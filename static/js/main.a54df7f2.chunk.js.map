{"version":3,"sources":["img/sound.svg","img/no_sound.svg","img/info.svg","sound/click.mp3","components/TweetCard/TweetContent/TweetMedia.js","actions/index.js","components/TweetCard/TweetContent/AuthorBlank.js","components/TweetCard/TweetContent/TweetText.js","components/TweetCard/TweetContent/QuoteTweet/QuoteTweet.js","components/TweetCard/TweetContent/TweetContent.js","components/TweetCard/TweetCard.js","custom-dict/verbs.js","config/pos.js","components/TweetCard/TweetContent/WordBlank.js","classes/FillBlank.js","components/TweetNav.js","classes/GuessAuthor.js","classes/GameController.js","components/DragWord.js","components/DragAuthor.js","components/DragOptions.js","components/Lives.js","components/Toolbar.js","components/Info.js","components/App.js","reducers/user.js","reducers/game.js","reducers/lightbox.js","reducers/ui.js","index.js","reducers/index.js","local-storage/localStorage.js","sound/success.mp3","sound/print.mp3","sound/bad.mp3","sound/type.mp3","sound/fail.mp3"],"names":["module","exports","dispatch","updateUser","user","type","updateToken","token","setDataAndInitGame","curGame","parsedFriends","parsedTweets","lastTweetFetched","lastTweetFetchDate","Date","now","AuthorBlank","useDrop","accept","hover","item","monitor","collect","isOver","canDrop","authorBeingDragged","getItem","drop","backgroundColor","color","width","blankName","blankHandle","author","name","handle","ref","className","style","TweetText","props","game","useSelector","state","textToRender","tweetToRender","classForTweetInfo","curTweet","quote","urlsToRender","quoteTweet","infoContent","header","console","error","text","urls","i","length","push","target","href","expanded_url","rel","key","display_url","tweetDate","date","toLocaleTimeString","toLocaleDateString","TweetMedia","undefined","curSlide","lightbox","slide","lbVisible","isVisible","useDispatch","tweetWithMedia","content","numMedia","mediaURLs","imgAr","hasMedia","mediaAr","media","url","src","alt","onClick","slideNum","height","controls","format","toggler","sources","QuoteTweet","printSound","Audio","printFile","TweetContent","soundState","ui","playSound","showOptions","pause","animateToggle","tweetIn","status","animation","animationDur","isQuote","CSSTransition","in","classNames","appear","timeout","onExited","onEntering","play","onEntered","TweetCard","gridOrder","gridSpan","verbs","posMap","JJ","JJR","JJS","NN","NNS","VB","VBD","VBG","VBN","VBP","VBZ","Blank","extractedWord","blankOrder","order","wordBeingDragged","blankFiller","value","wordInBlank","droppedWords","droppedWord","droppedIn","word","badSound","badFile","goodSound","goodFile","successSound","successFile","failSound","failFile","pos","require","tagger","Tagger","Sentencer","configure","actions","verb","Math","floor","random","FillBlank","newTweet","foundWords","this","extractedWords","wordOptions","numBlanks","numDropped","lives","parent","GameController","extractWords","findAndExtractWords","newGame","correctDrop","newWordObj","correct","incorrectDrop","checkMovedWord","checkAlreadyDropped","dropID","store","getState","checkDone","updateGame","fail","success","animateOut","done","getRandomWords","allWordReg","RegExp","wordAr","match","extractedWordArray","numCheckedWords","numChar","numWordsToExtract","usedIdx","randIdx","getRandomUniqueIndex","checkValidWord","wordLex","Lexer","lex","wordPos","tag","mappedPos","mappedPOS","findWordsInText","foundWordArray","searchExtractedWord","regSearchExtractedWord","startIdx","search","endIdx","start","end","sort","a","b","extractWordObjs","foundWord","searchFoundWord","foundWordRegex","replace","parts","split","jsxAr","curWordIdx","newGuessAuthor","randWord","make","normedWord","normalizeCap","shuffle","setWordOptions","setExtractedWords","serializedJson","newInstance","modelWord","normWord","character","allCaps","normedChars","charAt","isNaN","toUpperCase","toLowerCase","alert","join","array","temporaryValue","randomIndex","currentIndex","max","newIdx","includes","GuessAuthor","log","friendOptions","friendList","init","friends","fetchAllFriends","correctAuthor","randFriend","he","fetchNewTweets","tweets","tweetID","Promise","resolve","shouldReturn","allTweets","firstTweet","splice","pickRandomNumber","getRandomFriends","updateTweets","newTweets","Object","keys","toast","position","autoClose","closeButton","pauseOnHover","draggable","transition","Zoom","hideProgressBar","tweet","updateParsedTweets","setTimeout","updateStore","userDetails","userToken","twitterProvider","userTokenSecret","tokenSecret","fetch","headers","then","res","json","response","errors","parseRawTweets","catch","allUserData","fetchFriends","next_cursor","users","cursor","next_cursor_str","parseRawFriends","err","rawFriends","pic","profile_image_url","screen_name","rawTweets","retweeted_status","in_reply_to_status_id","created_at","id_str","decode","full_text","entities","extended_entities","media_url_https","video_info","variants","content_type","is_quote_status","quoted_status","unshift","clickSound","clickFile","gameController","animateAndNext","TweetNav","message","DragWord","fibGame","strike","opacity","useDrag","dropResult","getDropResult","handleDrop","options","dropEffect","isDragging","drag","textDecoration","DragAuthor","authorGame","time","isOverTarget","dragCoords","getSourceClientOffset","DragOptions","map","Lives","anim","strikeBounce","strikes","numIcons","Toolbar","soundStateImage","soundImage","muteImage","infoImage","Info","customStyles","top","left","right","bottom","marginRight","transform","Modal","setAppElement","onFailedAuth","onSuccessAuth","get","isAuthenticated","logout","localStorage","removeItem","App","infoState","showInfo","gameAdmin","animateOptions","optionsIn","gridStyle","img","isOpen","onRequestClose","contentLabel","overlayClassName","id","class","loginUrl","onFailure","onSuccess","requestTokenUrl","showIcon","intialUser","action","intialGame","lastFetched","intialLightbox","initialUI","combineReducers","persistedState","serializedState","parsedState","JSON","parse","gameFromJson","fromJSON","loadState","createStore","rootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","trace","subscribe","throttle","stringify","setItem","saveState","render","backend","HTML5Backend","document","getElementById"],"mappings":"uGAAAA,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,qGCA3CD,EAAOC,QAAU,IAA0B,mC,4HCMvCC,E,2ECQSC,EAAa,SAAAC,GAAI,MAAK,CACjCC,KAAM,WACND,SAKWE,EAAc,SAAAC,GAAK,MAAK,CACnCF,KAAM,YACNE,UAGWC,EAAqB,SAACC,EAASC,EAAeC,EAAcC,GAAvC,MAA6D,CAC7FP,KAAM,YACNI,UACAC,gBACAC,eACAE,mBAAoBC,KAAKC,MACzBH,iBAAkBA,I,wCCcLI,EA3CK,WAAM,MAEkCC,YAAQ,CAC5DC,OAAQ,SACRC,MAAO,SAACC,EAAMC,KAGdC,QAAS,SAAAD,GAAO,MAAK,CACjBE,OAAQF,EAAQE,SAChBC,QAASH,EAAQG,UACjBC,mBAAoBJ,EAAQK,cAVd,0BAEbF,EAFa,EAEbA,QAASD,EAFI,EAEJA,OAAQE,EAFJ,EAEIA,mBAAsBE,EAF1B,KAelBC,EAAkB,cAClBC,EAAQ,QACRC,EAAQ,QAERC,EAAY,KACZC,EAAc,KAgBlB,OAtBiBR,GAAWD,GAS1BK,EAAkB,cAClBC,EAAQ,QACRE,EAAYN,EAAmBQ,OAAOC,KACtCF,EAAc,IAAMP,EAAmBQ,OAAOE,OAC9CL,EAAQ,eACCN,IAETK,EADAD,EAAkB,UAElBG,EAAYN,EAAmBQ,OAAOC,KACtCF,EAAc,IAAMP,EAAmBQ,OAAOE,OAC9CL,EAAQ,eAIN,yBAAKM,IAAKT,EAAMU,UAAU,gBACtB,sCAAgB,wBAAIA,UAAW,qBAAsBC,MAAO,CAACV,kBAAiBC,QAAOC,UAArE,IAA+EC,EAA/E,IAA0F,0BAAMM,UAAW,sBAAjB,IAAyCL,MC8EhJO,EAlHG,SAAAC,GACjB,IAAMC,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,KAAKhC,WAC7C,GAAa,OAATgC,EAAe,CAClB,IAMIG,EAEAC,EACAC,EATAC,EAAWN,EAAKM,SAKhBC,EAAQR,EAAMQ,MAEdC,EAAe,IAIL,IAAVD,GACHH,EAAgBE,EAASG,WACzBJ,EAAoB,qBAGpBD,EAAgBE,EAChBD,EAAoB,cAErB,IAAIK,EAAc,KACdC,EAAS,KAab,GAZsB,OAAlBP,EACHM,EACC,yBAAKd,UAAU,QACd,wBAAIA,UAAWS,EAAoB,SAAnC,UAAqDD,EAAczC,KAAK8B,KAAxE,IAA8E,0BAAMG,UAAWS,EAAoB,YAArC,KAAoDD,EAAczC,KAAK+B,UAKvJkB,QAAQC,MAAM,kCAID,IAAVN,GAEH,GADAJ,EAAeG,EAASG,WAAWK,KACF,OAA7BR,EAASG,WAAWM,KACvB,IAAK,IAAIC,EAAI,EAAGA,EAAIV,EAASG,WAAWM,KAAKE,OAAQD,IACpDR,EAAaU,KACZ,uBAAGC,OAAO,SAASC,KAAMd,EAASG,WAAWM,KAAKC,GAAGK,aAAcC,IAAI,sBAAsBC,IAAKP,GAAlG,UACWV,EAASG,WAAWM,KAAKC,GAAGQ,mBAOtC,GAAkB,cAAdxB,EAAKpC,MAIb,GAHA+C,EAAS,wBAAIf,UAAU,iBAAd,uBACTO,EAAeH,EAAKG,aAEE,OAAlBG,EAASS,KACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIV,EAASS,KAAKE,OAAQD,IACzCR,EAAaU,KACZ,uBAAGC,OAAO,SAASC,KAAMd,EAASS,KAAKC,GAAGK,aAAcC,IAAI,sBAAsBC,IAAKP,GAAvF,UACWV,EAASS,KAAKC,GAAGQ,mBAO3B,GAAkB,gBAAdxB,EAAKpC,KACb8C,EAAc,kBAAC,EAAD,MACdC,EAAS,wBAAIf,UAAU,iBAAd,qBACTO,EAAeG,EAASQ,KACxBN,EAAe,UAEX,GAAkB,aAAdR,EAAKpC,MAAqC,aAAdoC,EAAKpC,MAEzC,GADAuC,EAAeG,EAASQ,KACF,OAAlBR,EAASS,KACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIV,EAASS,KAAKE,OAAQD,IACzCR,EAAaU,KACZ,uBAAGC,OAAO,SAASC,KAAMd,EAASS,KAAKC,GAAGK,aAAcC,IAAI,sBAAsBC,IAAKP,GAAvF,UACWV,EAASS,KAAKC,GAAGQ,mBAO/BZ,QAAQC,MAAM,yCAGf,IAAIY,EAAY,IAAIpD,KAAK+B,EAAcsB,MAEvC,OACC,kBAAC,WAAD,KACiB,cAAd1B,EAAKpC,MAAsC,gBAAdoC,EAAKpC,OAAqC,IAAV2C,EAW9D,kBAAC,WAAD,KACC,wBAAIX,UAAU,QAAd,eAAkC6B,EAAUE,mBAAmB,SAA/D,IAA0EF,EAAUG,mBAAmB,UACvG,yBAAKhC,UAAU,cAAcO,GAC5BO,EACD,yBAAKd,UAAU,cAAcY,IAd9B,kBAAC,WAAD,KACEG,EACD,wBAAIf,UAAU,QAAd,eAAkC6B,EAAUE,mBAAmB,SAA/D,IAA0EF,EAAUG,mBAAmB,UACvG,yBAAKhC,UAAU,cAAcO,GAC5BO,EACD,yBAAKd,UAAU,cAAcY,KAe7B,OAAO,M,kBHrBEqB,EAlFI,SAAA9B,GACjB,IAAIQ,EAAQR,EAAMQ,MAEdvC,EAAUiC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,KAAKhC,WAC1CsC,EAAW,UACCwB,IAAZ9D,IACFsC,EAAWtC,EAAQsC,UAGrB,IAAIyB,EAAW9B,aAAY,SAAAC,GAAK,OAAIA,EAAM8B,SAASC,SAC/CC,EAAYjC,aAAY,SAAAC,GAAK,OAAIA,EAAM8B,SAASG,aAEpD1E,EAAW2E,cACX,IAAIC,EAAiB,KAKnBA,GADY,IAAV9B,EACeD,EAASC,MAETD,EAEnB,IAAIgC,EAAU,KAEVC,EAAW,EAEXC,EAAY,GACZC,EAAQ,GACZ,GAAuB,OAAnBJ,EACF,GAAIA,EAAeK,SAAU,CAC3B,IAAMC,EAAUN,EAAeO,MAE/BL,EAAWI,EAAQ1B,OAEnB,IAL2B,eAKlBD,GACP,IAAI4B,EAAQD,EAAQ3B,GACpBwB,EAAUtB,KAAK0B,EAAMC,KACF,UAAfD,EAAMhF,MAAmC,iBAAfgF,EAAMhF,KAClC6E,EAAMvB,KACJ,yBAAKK,IAAKP,EAAG8B,IAAKF,EAAMC,IAAKE,IAAI,GAAGnD,UAAW,qCAAuCoB,EAAGgC,QAAS,kBA5C9Ff,EA4C8GjB,EA3C5HvD,ECqDoC,CACpCG,KAAM,2BDrDNH,ECwDuC,CACvCG,KAAM,eACNqF,SD1DoBhB,IAFN,IAAAA,MA8CkB,UAAfW,EAAMhF,KACf6E,EAAMvB,KACJ,2BACE7B,MAAM,MACN6D,OAAO,MACPC,UAAQ,EACRvD,UAAU,uBACV2B,IAAKP,GAEL,4BAAQ8B,IAAKF,EAAMC,IAAKjF,KAAMgF,EAAMQ,SAPtC,sDASA,uBAAGhC,KAAMwB,EAAMC,KAAf,yBAIFjC,QAAQC,MACN,8CAAgD+B,EAAMhF,OAvBnDoD,EAAI,EAAGA,EAAI2B,EAAQ1B,OAAQD,IAAM,EAAjCA,GA4BTsB,EACE,yBAAK1C,UAAW,oBAAsB2C,GACnCE,EAED,kBAAC,IAAD,CAAYY,QAASnB,EAAWD,MAAOF,EAAUuB,QAASd,UAK9DF,EAAU,UAIZA,EAAU,KAIZ,OAAO,kBAAC,WAAD,KAAWA,II5ELiB,EAZI,WAEf,OACI,yBAAK3D,UAAU,oBACX,yBAAKA,UAAU,uBACX,kBAAC,EAAD,CAAWW,OAAO,IAClB,kBAAC,EAAD,CAAYA,OAAO,O,0BCE/BiD,EAAa,IAAIC,MAAMC,KAkGZC,EAhGM,WAEjB,IAAIC,EAAa3D,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,GAAGC,aAMzCC,EAAc,WAChBtG,EJwDwB,CAC9BG,KAAM,oBIxDA4F,EAAWQ,SAUXhG,EAAUiC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,KAAKhC,WAE1CiG,EAAgBhE,aAAY,SAAAC,GAAK,OAAIA,EAAM2D,GAAGK,WAE9CzG,EAAW2E,cAEX9B,EAAW,KACf,GAAgB,OAAZtC,IACAsC,EAAWtC,EAAQsC,SACC,aAAjBtC,EAAQJ,MACe,SAAnBI,EAAQmG,QAEP,OADAJ,IACO,KAKnB,IAAIzB,EAAU,KAEV8B,EAAY,WACZC,EAAe,IAOnB,IALsB,IAAlBJ,IACAI,EAAe,KAIF,OAAb/D,EAAmB,CACnB,GAAoB,aAAjBtC,EAAQJ,KACPwG,EAAY,YAEX,GAAoB,aAAjBpG,EAAQJ,KACZ,OAAO,KAKP0E,GADqB,IAArBhC,EAASgE,QAEL,kBAAC,WAAD,KACI,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAY/D,OAAO,IACnB,kBAAC,EAAD,OAMJ,kBAAC,WAAD,KACI,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAYA,OAAO,KAQnC,OACI,kBAACgE,EAAA,EAAD,CACIC,GAAIP,EACJQ,WAAYL,EACZM,QAAQ,EACRC,QAASN,EACTO,SAAU,WA9EdnH,EJoDsB,CAC5BG,KAAM,mBI0BIiH,WAAY,YArEE,IAAfjB,GACCJ,EAAWsB,QAqEXC,UAAW,kBAAMhB,MAEjB,yBAAKnE,UAAU,8BACX,yBAAKA,UAAU,iBACV0C,MCzCN0C,G,OAtDG,WAEhB,IACI1C,EADAtC,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,KAAKhC,WAGvCiH,EAAY,GACZC,EAAW,GAEF,OAATlF,EAIe,OAHFA,EAAKM,WAKA,cAAdN,EAAKpC,KACP0E,EACE,kBAAC,WAAD,KACE,kBAAC,EAAD,OAKiB,gBAAdtC,EAAKpC,KACZ0E,EACE,kBAAC,WAAD,KACE,kBAAC,EAAD,OAIiB,aAAdtC,EAAKpC,MAAqC,aAAdoC,EAAKpC,MACxC0E,EACE,kBAAC,WAAD,KACE,kBAAC,EAAD,OAIJ2C,EAAY,SACZC,EAAW,aAGXtE,QAAQC,MAAM,sCAQlByB,EAAU,KAGZ,OAAQ,yBAAK1C,UAAW,SAAWqF,EAAY,IAAMC,GAAW5C,K,gBC6cnD6C,EAxgBH,CACV,aACA,cACA,aACA,aACA,UACA,UACA,MACA,WACA,QACA,MACA,UACA,SACA,aACA,YACA,SACA,WACA,MACA,OACA,QACA,WACA,QACA,UACA,SACA,aACA,QACA,UACA,WACA,UACA,YACA,UACA,aACA,YACA,WACA,SACA,SACA,SACA,SACA,SACA,SACA,UACA,QACA,UACA,SACA,YACA,WACA,QACA,QACA,UACA,QACA,UACA,QACA,SACA,QACA,UACA,SACA,QACA,QACA,YACA,YACA,UACA,UACA,OACA,UACA,YACA,aACA,QACA,QACA,aACA,QACA,SACA,QACA,QACA,WACA,YACA,UACA,WACA,aACA,QACA,OACA,cACA,UACA,UACA,UACA,UACA,WACA,cACA,UACA,UACA,WACA,UACA,UACA,WACA,gBACA,aACA,WACA,WACA,UACA,SACA,UACA,UACA,WACA,WACA,cACA,YACA,UACA,UACA,WACA,aACA,UACA,UACA,SACA,WACA,YACA,aACA,OACA,UACA,YACA,aACA,UACA,SACA,WACA,YACA,YACA,SACA,QACA,SACA,WACA,WACA,SACA,SACA,QACA,SACA,WACA,UACA,cACA,SACA,cACA,SACA,WACA,SACA,SACA,SACA,YACA,UACA,SACA,SACA,WACA,UACA,gBACA,SACA,YACA,WACA,WACA,eACA,UACA,WACA,UACA,UACA,cACA,cACA,aACA,YACA,WACA,QACA,OACA,OACA,OACA,OACA,UACA,SACA,QACA,SACA,YACA,YACA,SACA,SACA,YACA,UACA,WACA,UACA,UACA,YACA,SACA,SACA,SACA,QACA,YACA,YACA,QACA,YACA,WACA,WACA,UACA,WACA,UACA,WACA,UACA,SACA,WACA,aACA,UACA,UACA,UACA,SACA,UACA,cACA,YACA,aACA,cACA,UACA,OACA,SACA,WACA,YACA,MACA,QACA,WACA,YACA,UACA,UACA,SACA,QACA,QACA,OACA,UACA,UACA,SACA,QACA,WACA,SACA,QACA,QACA,QACA,QACA,SACA,OACA,OACA,YACA,OACA,OACA,WACA,aACA,SACA,YACA,SACA,UACA,YACA,cACA,WACA,QACA,gBACA,YACA,SACA,WACA,WACA,UACA,UACA,UACA,YACA,WACA,SACA,YACA,WACA,YACA,YACA,YACA,YACA,YACA,SACA,YACA,cACA,UACA,OACA,QACA,UACA,QACA,SACA,OACA,QACA,UACA,UACA,UACA,YACA,OACA,SACA,WACA,QACA,WACA,SACA,MACA,WACA,SACA,cACA,MACA,SACA,SACA,WACA,UACA,YACA,UACA,SACA,QACA,YACA,WACA,WACA,QACA,WACA,YACA,SACA,UACA,WACA,UACA,WACA,YACA,SACA,QACA,UACA,UACA,SACA,YACA,SACA,UACA,cACA,QACA,WACA,SACA,YACA,YACA,UACA,WACA,UACA,UACA,UACA,cACA,WACA,UACA,UACA,WACA,aACA,QACA,UACA,OACA,WACA,UACA,UACA,UACA,WACA,UACA,UACA,QACA,aACA,QACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YACA,UACA,WACA,UACA,WACA,QACA,QACA,MACA,OACA,OACA,OACA,SACA,SACA,YACA,YACA,YACA,SACA,WACA,UACA,UACA,SACA,QACA,SACA,WACA,WACA,eACA,YACA,SACA,UACA,UACA,UACA,SACA,QACA,aACA,SACA,UACA,SACA,YACA,WACA,UACA,UACA,UACA,UACA,WACA,SACA,WACA,SACA,SACA,SACA,SACA,aACA,QACA,SACA,OACA,OACA,WACA,SACA,SACA,aACA,SACA,SACA,UACA,SACA,QACA,UACA,SACA,QACA,QACA,OACA,WACA,WACA,SACA,OACA,UACA,QACA,OACA,QACA,YACA,aACA,UACA,QACA,QACA,cACA,QACA,YACA,aACA,aACA,aACA,aACA,YACA,QACA,SACA,eACA,aACA,UACA,YACA,YACA,SACA,UACA,UACA,SACA,UACA,YACA,aACA,cACA,WACA,OACA,SACA,SACA,QACA,OACA,YACA,OACA,WACA,OACA,OACA,QACA,QACA,QACA,QACA,aACA,WACA,YACA,YACA,WACA,YACA,YACA,SACA,QACA,SACA,cACA,QACA,UACA,YACA,QACA,SACA,SACA,UACA,SACA,MACA,UACA,WACA,QACA,SACA,OACA,QACA,YACA,WACA,YACA,QACA,QACA,MACA,WACA,UACA,QACA,QACA,MACA,OCvfaC,EAdF,CACTC,GAAI,YACJC,IAAK,YACLC,IAAK,YACLC,GAAI,OACJC,IAAK,QACLC,GAAI,OACJC,IAAK,OACLC,IAAK,OACLC,IAAK,OACLC,IAAK,OACLC,IAAK,QCqEMC,EA5ED,SAAAjG,GAIZ,IAAIkG,EAAgBlG,EAAMkG,cACtBC,EAAanG,EAAMmG,WACnBlG,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,KAAKhC,WANtB,EAQiCQ,YAAQ,CAC5DC,OAAQ,OACR0H,MAAOD,EACPhH,KAAM,iBAAO,CAAEO,KAAMwG,EAAeE,MAAOD,IAC3CrH,QAAS,SAAAD,GAAO,MAAK,CACnBE,OAAQF,EAAQE,SAChBC,QAASH,EAAQG,UACjBqH,iBAAkBxH,EAAQK,cAfT,0BAQZF,EARY,EAQZA,QAASD,EARG,E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","file":"static/js/main.a54df7f2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sound.de43e1cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/no_sound.f8f4853e.svg\";","module.exports = __webpack_public_path__ + \"static/media/info.fa49b61e.svg\";","module.exports = __webpack_public_path__ + \"static/media/click.ecde8151.mp3\";","import React, { Fragment } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport FsLightbox from 'fslightbox-react';\n\nimport { setLBSlide, toggleLBVisible } from \"./../../../actions\";\n\nlet dispatch;\n\nvar showSlide = slide => {\n  dispatch(toggleLBVisible());\n  dispatch(setLBSlide(slide));\n};\n\nconst TweetMedia = props => {\n  let quote = props.quote;\n\n  let curGame = useSelector(state => state.game.curGame);\n  let curTweet = null;\n  if (curGame !== undefined) {\n    curTweet = curGame.curTweet;\n  }\n\n  let curSlide = useSelector(state => state.lightbox.slide);\n  let lbVisible = useSelector(state => state.lightbox.isVisible);\n\n  dispatch = useDispatch();\n  let tweetWithMedia = null;\n\n  //check if tweet with media we are rendering is quote or orginial\n\n  if (quote === true) {\n    tweetWithMedia = curTweet.quote;\n  } else {\n    tweetWithMedia = curTweet;\n  }\n  let content = null;\n\n  let numMedia = 0;\n\n  let mediaURLs = [];\n  let imgAr = [];\n  if (tweetWithMedia !== null) {\n    if (tweetWithMedia.hasMedia) {\n      const mediaAr = tweetWithMedia.media;\n      //console.log(mediaAr);\n      numMedia = mediaAr.length;\n      //we have some media to render!\n      for (let i = 0; i < mediaAr.length; i++) {\n        let media = mediaAr[i];\n        mediaURLs.push(media.url);\n        if (media.type === \"photo\" || media.type === \"animated_gif\") {\n          imgAr.push(\n            <img key={i} src={media.url} alt=\"\" className={\"tweet-media-item tweet-media-item-\" + i} onClick={() => showSlide(i)}></img>\n          );\n        } else if (media.type === \"video\") {\n          imgAr.push(\n            <video\n              width=\"426\"\n              height=\"240\"\n              controls\n              className=\"tweet-media-item fit\"\n              key={i}\n            >\n              <source src={media.url} type={media.format}></source>\n              Your browser does not support inline video viewing.\n            <a href={media.url}>Click here to view.</a>\n            </video>\n          );\n        } else {\n          console.error(\n            \"Media Type not caught in switch statement: \" + media.type\n          );\n        }\n      }\n      //console.log(mediaURLs);\n      content = (\n        <div className={\"tweet-media-grid-\" + numMedia}>\n          {imgAr}\n\n          <FsLightbox toggler={lbVisible} slide={curSlide} sources={mediaURLs} />\n        </div>\n      );\n      //console.log(content);\n    } else {\n      content = null;\n    }\n  }\n  else {\n    content = null;\n  }\n\n  //return <div className={`tweet-media-${numMedia}`}>{content}</div>;\n  return <Fragment>{content}</Fragment>;\n};\n\nexport default TweetMedia;\n","//called upon logout\nexport const logoutAndReset = () => ({\n  type: 'RESET'\n})\n\n//action creator for updating the value of store.user.isAuthenticated\n//expects isAuthenticated to be boolean\nexport const updateAuthentication = isAuthenticated => ({\n  type: 'SET_AUTHENTICATION',\n  isAuthenticated\n})\n\n//action creator for updating the user object in store.user.userDetails\n//user expected to be object\nexport const updateUser = user => ({\n  type: 'SET_USER',\n  user\n})\n\n//action creator for updating the token string in store.user.userToken\n//expects token to be a string\nexport const updateToken = token => ({\n  type: 'SET_TOKEN',\n  token\n})\n\nexport const setDataAndInitGame = (curGame, parsedFriends, parsedTweets, lastTweetFetched) => ({\n  type: 'INIT_GAME',\n  curGame,\n  parsedFriends,\n  parsedTweets,\n  lastTweetFetchDate: Date.now(),\n  lastTweetFetched: lastTweetFetched\n})\n\n//action creator for setting the value of store.tweets.lastTweetFetched for timeline fetching management\n//expects lastFetched to be a string (id of tweet)\nexport const updateLastTweetFetched = lastFetched => ({\n  type: 'SET_LAST_TWEET_FETCHED',\n  lastFetched\n})\n\n//updates array of objects for store.tweets.parsedTweets\n//expects array of objects\nexport const updateParsedTweets = (parsedTweets, lastTweetFetched) => (\n  {\n  type: 'SET_PARSED_TWEETS',\n  parsedTweets: parsedTweets,\n  lastTweetFetchDate: Date.now(),\n  lastTweetFetched: lastTweetFetched\n})\n\nexport const updateCurGame = curGame => ({\n  type: 'SET_CURRENT_GAME',\n  curGame\n})\n\nexport const updateParsedFriends = parsedFriends => ({\n  type: 'SET_PARSED_FRIENDS',\n  parsedFriends\n})\n\nexport const toggleLBVisible = () => ({\n  type: 'TOGGLE_LB_VISIBLE',\n})\n\nexport const setLBSlide = (slideNum) => ({\n  type: 'SET_LB_SLIDE',\n  slideNum\n})\n\nexport const tweetIn = () => ({\n  type: 'TWEET_IN_TRUE'\n})\n\nexport const tweetOut = () => ({\n  type: 'TWEET_IN_FALSE'\n})\n\nexport const optionsIn = () => ({\n  type: 'OPTIONS_IN_TRUE'\n})\n\nexport const optionsOut = () => ({\n  type: 'OPTIONS_IN_FALSE'\n})\n\nexport const playSound = () => ({\n  type: 'PLAY_SOUND'\n})\n\nexport const muteSound = () => ({\n  type: 'MUTE_SOUND'\n})\n\nexport const showInfo = () => ({\n  type: 'SHOW_INFO'\n})\n\nexport const hideInfo = () => ({\n  type: 'HIDE_INFO'\n})\n\nexport const strikeIn = () => ({\n  type: 'STRIKE_START'\n})\n\nexport const strikeOut = () => ({\n  type: 'STRIKE_STOP'\n})","import React from \"react\";\nimport { useDrop } from \"react-dnd\";\n\nconst AuthorBlank = () => {\n    //console.log('rendering blank');\n    const [{ canDrop, isOver, authorBeingDragged }, drop] = useDrop({\n        accept: \"author\",\n        hover: (item, monitor) => {\n            //console.log(monitor);\n        },\n        collect: monitor => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n            authorBeingDragged: monitor.getItem()\n        })\n    });\n\n    const isActive = canDrop && isOver;\n    let backgroundColor = \"transparent\";\n    let color = 'black';\n    let width = '150px';\n\n    let blankName = null;\n    let blankHandle = null;\n\n    if (isActive) {\n      backgroundColor = \"transparent\";\n      color = 'black';\n      blankName = authorBeingDragged.author.name;\n      blankHandle = \"@\" + authorBeingDragged.author.handle;\n      width = 'min-content';\n    } else if (canDrop) {\n      backgroundColor = \"#BF0404\";\n      color = backgroundColor;\n      blankName = authorBeingDragged.author.name;\n      blankHandle = \"@\" + authorBeingDragged.author.handle;\n      width = 'min-content';\n    }\n\n    return  (\n        <div ref={drop} className=\"author-blank\" >\n            <h3>&#8213;</h3><h3 className={\"author-blank-empty\"} style={{backgroundColor, color, width}}> {blankName} <span className={\"tweet-info-details\"}> {blankHandle}</span></h3>\n        </div>\n    )\n}\n\nexport default AuthorBlank;","import React, { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport AuthorBlank from \"./AuthorBlank\";\n\n\nconst TweetText = props => {\n\tconst game = useSelector(state => state.game.curGame);\n\tif (game !== null) {\n\t\tlet curTweet = game.curTweet;\n\n\t\t//reset used indexes for every new tweet\n\t\t//usedIdx = [];\n\n\t\tlet quote = props.quote;\n\t\tlet textToRender;\n\t\tlet urlsToRender = [];\n\t\tlet tweetToRender;\n\t\tlet classForTweetInfo;\n\t\t//check if we need to render quote tweet info or no\n\t\tif (quote === true) {\n\t\t\ttweetToRender = curTweet.quoteTweet;\n\t\t\tclassForTweetInfo = \"quote-tweet-info\";\n\t\t}\n\t\telse {\n\t\t\ttweetToRender = curTweet;\n\t\t\tclassForTweetInfo = \"tweet-info\"\n\t\t}\n\t\tlet infoContent = null;\n\t\tlet header = null;\n\t\tif (tweetToRender !== null) {\n\t\t\tinfoContent = (\n\t\t\t\t<div className=\"info\">\n\t\t\t\t\t<h3 className={classForTweetInfo + \"-name\"}>&#8213; {tweetToRender.user.name} <span className={classForTweetInfo + \"-details\"}> @{tweetToRender.user.handle}</span></h3>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\telse {\n\t\t\tconsole.error('no tweetToRender in TweetText')\n\t\t}\n\n\t\t//no need to extract words if it's a quote tweet\n\t\tif (quote === true) {\n\t\t\ttextToRender = curTweet.quoteTweet.text;\n\t\t\tif (curTweet.quoteTweet.urls !== null) {\n\t\t\t\tfor (let i = 0; i < curTweet.quoteTweet.urls.length; i++) {\n\t\t\t\t\turlsToRender.push(\n\t\t\t\t\t\t<a target=\"_blank\" href={curTweet.quoteTweet.urls[i].expanded_url} rel=\"noopener noreferrer\" key={i}>\n\t\t\t\t\t\t\t&#x2197; {curTweet.quoteTweet.urls[i].display_url}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//extract words and such if its a fillblank game\n\t\telse if (game.type === 'FillBlank') {\n\t\t\theader = <h2 className=\"section-title\">Complete the Tweet:</h2>\n\t\t\ttextToRender = game.textToRender;\n\t\t\t//console.log(textToRender);\n\t\t\tif (curTweet.urls !== null) {\n\t\t\t\tfor (let i = 0; i < curTweet.urls.length; i++) {\n\t\t\t\t\turlsToRender.push(\n\t\t\t\t\t\t<a target=\"_blank\" href={curTweet.urls[i].expanded_url} rel=\"noopener noreferrer\" key={i}>\n\t\t\t\t\t\t\t&#x2197; {curTweet.urls[i].display_url}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//no need to extract words if game is guess author\n\t\telse if (game.type === 'GuessAuthor') {\n\t\t\tinfoContent = <AuthorBlank />;\n\t\t\theader = <h2 className=\"section-title\">Guess the Author:</h2>\n\t\t\ttextToRender = curTweet.text;\n\t\t\turlsToRender = null;\n\t\t}\n\t\telse if (game.type === \"Complete\" || game.type === 'NoTweets') {\n\t\t\ttextToRender = curTweet.text;\n\t\t\tif (curTweet.urls !== null) {\n\t\t\t\tfor (let i = 0; i < curTweet.urls.length; i++) {\n\t\t\t\t\turlsToRender.push(\n\t\t\t\t\t\t<a target=\"_blank\" href={curTweet.urls[i].expanded_url} rel=\"noopener noreferrer\" key={i}>\n\t\t\t\t\t\t\t&#x2197; {curTweet.urls[i].display_url}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconsole.error('Game type not recognized in TweetText');\n\t\t}\n\n\t\tlet tweetDate = new Date(tweetToRender.date)\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{(game.type === 'FillBlank' || game.type === 'GuessAuthor') && quote !== true ?\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{header}\n\t\t\t\t\t\t<h4 className=\"bold\">Recieved at {tweetDate.toLocaleTimeString('en-US')} {tweetDate.toLocaleDateString('en-US')}</h4>\n\t\t\t\t\t\t<pre className=\"tweet-text\">{textToRender}</pre>\n\t\t\t\t\t\t{infoContent}\n\t\t\t\t\t\t<div className=\"tweet-urls\">{urlsToRender}</div>\n\t\t\t\t\t</Fragment>\n\n\t\t\t\t\t:\n\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<h4 className=\"bold\">Recieved at {tweetDate.toLocaleTimeString('en-US')} {tweetDate.toLocaleDateString('en-US')}</h4>\n\t\t\t\t\t\t<pre className=\"tweet-text\">{textToRender}</pre>\n\t\t\t\t\t\t{infoContent}\n\t\t\t\t\t\t<div className=\"tweet-urls\">{urlsToRender}</div>\n\t\t\t\t\t</Fragment>\n\t\t\t\t}\n\t\t\t</Fragment>\n\t\t);\n\t}\n\telse return null;\n};\n\nexport default TweetText;\n","import React from 'react'\nimport TweetText from './../TweetText';\nimport TweetMedia from '../TweetMedia';\n\nconst QuoteTweet = () => {\n\n    return(\n        <div className=\"quote-tweet-grid\">\n            <div className=\"quote-tweet-content\">\n                <TweetText quote={true} />\n                <TweetMedia quote={true} />\n            </div>\n        </div>\n    )\n}\n\nexport default QuoteTweet","import React, { Fragment } from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport TweetText from \"./TweetText\";\nimport TweetMedia from \"./TweetMedia\";\nimport QuoteTweet from \"./QuoteTweet/QuoteTweet\";\n\nimport { CSSTransition } from 'react-transition-group';\nimport { tweetIn, optionsIn } from '../../../actions';\n\nimport printFile from './../../../sound/print.mp3';\n\n\nlet printSound = new Audio(printFile);\n\nconst TweetContent = () => {\n\n    let soundState = useSelector(state => state.ui.playSound);\n\n    const enterTransition = () => {\n        dispatch(tweetIn());\n    }\n\n    const showOptions = () => {\n        dispatch(optionsIn());\n        printSound.pause();\n    }\n\n    \n    const playSound = () => {\n        if(soundState === true) {\n            printSound.play();\n        }\n    }\n\n    let curGame = useSelector(state => state.game.curGame);\n\n    let animateToggle = useSelector(state => state.ui.tweetIn);\n\n    let dispatch = useDispatch();\n\n    let curTweet = null;\n    if (curGame !== null) {\n        curTweet = curGame.curTweet;\n        if(curGame.type === 'Complete') {\n            if(curGame.status === 'Fail') {\n                showOptions();\n                return null;\n            }\n        }\n    }\n\n    let content = null;\n\n    let animation = 'slide-up';\n    let animationDur = 1000;\n\n    if (animateToggle === false) {\n        animationDur = 200;\n    }\n\n    //make sure we have content to render\n    if (curTweet !== null) {\n        if(curGame.type === 'Complete') {\n            animation = 'fade';\n        }\n        else if(curGame.type === 'NoTweets') {\n            return null;\n        }\n\n        //check if we need to render a quote tweet\n        if (curTweet.isQuote === true) {\n            content = (\n                <Fragment>\n                    <TweetText />\n                    <TweetMedia quote={false} />\n                    <QuoteTweet />\n                </Fragment>\n            )\n        }\n        else {\n            content = (\n                <Fragment>\n                    <TweetText />\n                    <TweetMedia quote={false} />\n                </Fragment>\n            )\n        }\n    }\n\n   \n\n    return (\n        <CSSTransition\n            in={animateToggle}\n            classNames={animation}\n            appear={true}\n            timeout={animationDur}\n            onExited={()=> enterTransition()}\n            onEntering={() => playSound()}\n            onEntered={() => showOptions()}\n        >\n            <div className=\"tweet-content-wrapper torn\">\n                <div className=\"tweet-content\">\n                    {content}\n                </div>\n            </div>\n        </CSSTransition>\n    )\n}\n\nexport default TweetContent","import React, { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport TweetContent from \"./TweetContent/TweetContent\";\nimport \"./TweetCard.css\";\n\n\n\n\nconst TweetCard = () => {\n  //hook into state to get the current tweet to display\n  let game = useSelector(state => state.game.curGame);\n  let content;\n\n  let gridOrder = '';\n  let gridSpan = '';\n\n  if (game !== null) {\n    let curTweet = game.curTweet;\n\n    //make sure we have content to render\n    if (curTweet !== null) {\n      //render the info and everything if its FillBlank\n      if (game.type === 'FillBlank') {\n        content = (\n          <Fragment>\n            <TweetContent />\n          </Fragment>\n        );\n      }\n      //put in blank instead of info\n      else if (game.type === 'GuessAuthor') {\n        content = (\n          <Fragment>\n            <TweetContent />\n          </Fragment>\n        )\n      }\n      else if (game.type === 'Complete' || game.type === 'NoTweets') {\n        content = (\n          <Fragment>\n            <TweetContent />\n          </Fragment>\n        );\n\n        gridOrder = 'second'\n        gridSpan = 'span-cols'\n      }\n      else {\n        console.error('Game type not caught in TweetCard');\n      }\n    }\n\n  }\n\n  //no tweets view\n  else {\n    content = null;\n  }\n\n  return (<div className={'tweet ' + gridOrder + \" \" + gridSpan}>{content}</div>);\n};\n\nexport default TweetCard;\n","let verbs = [\n  \"Accelerate\",\n  \"Accommodate\",\n  \"Accomplish\",\n  \"Accumulate\",\n  \"Achieve\",\n  \"Acquire\",\n  \"Act\",\n  \"Activate\",\n  \"Adapt\",\n  \"Add\",\n  \"Address\",\n  \"Adjust\",\n  \"Administer\",\n  \"Advertise\",\n  \"Advise\",\n  \"Advocate\",\n  \"Aid\",\n  \"Aide\",\n  \"Align\",\n  \"Allocate\",\n  \"Amend\",\n  \"Analyze\",\n  \"Answer\",\n  \"Anticipate\",\n  \"Apply\",\n  \"Appoint\",\n  \"Appraise\",\n  \"Approve\",\n  \"Arbitrate\",\n  \"Arrange\",\n  \"Articulate\",\n  \"Ascertain\",\n  \"Assemble\",\n  \"Assess\",\n  \"Assign\",\n  \"Assist\",\n  \"Assume\",\n  \"Attain\",\n  \"Attend\",\n  \"Attract\",\n  \"Audit\",\n  \"Augment\",\n  \"Author\",\n  \"Authorize\",\n  \"Automate\",\n  \"Avert\",\n  \"Award\",\n  \"Bargain\",\n  \"Begin\",\n  \"Bolster\",\n  \"Boost\",\n  \"Bought\",\n  \"Brief\",\n  \"Broaden\",\n  \"Budget\",\n  \"Build\",\n  \"Built\",\n  \"Calculate\",\n  \"Calibrate\",\n  \"Canvass\",\n  \"Capture\",\n  \"Care\",\n  \"Catalog\",\n  \"Catalogue\",\n  \"Categorize\",\n  \"Cater\",\n  \"Cause\",\n  \"Centralize\",\n  \"Chair\",\n  \"Charge\",\n  \"Chart\",\n  \"Check\",\n  \"Check in\",\n  \"Check out\",\n  \"Clarify\",\n  \"Classify\",\n  \"Co-operate\",\n  \"Coach\",\n  \"Code\",\n  \"Collaborate\",\n  \"Collate\",\n  \"Collect\",\n  \"Combine\",\n  \"Comfort\",\n  \"Commence\",\n  \"Communicate\",\n  \"Compare\",\n  \"Compile\",\n  \"Complete\",\n  \"Compose\",\n  \"Compute\",\n  \"Conceive\",\n  \"Conceptualize\",\n  \"Conciliate\",\n  \"Conclude\",\n  \"Condense\",\n  \"Conduct\",\n  \"Confer\",\n  \"Confirm\",\n  \"Connect\",\n  \"Conserve\",\n  \"Consider\",\n  \"Consolidate\",\n  \"Construct\",\n  \"Consult\",\n  \"Contact\",\n  \"Contract\",\n  \"Contribute\",\n  \"Control\",\n  \"Convert\",\n  \"Convey\",\n  \"Convince\",\n  \"Cooperate\",\n  \"Coordinate\",\n  \"Copy\",\n  \"Correct\",\n  \"Correlate\",\n  \"Correspond\",\n  \"Counsel\",\n  \"Create\",\n  \"Critique\",\n  \"Cultivate\",\n  \"Customize\",\n  \"Debate\",\n  \"Debug\",\n  \"Decide\",\n  \"Decrease\",\n  \"Dedicate\",\n  \"Deduce\",\n  \"Defend\",\n  \"Defer\",\n  \"Define\",\n  \"Delegate\",\n  \"Deliver\",\n  \"Demonstrate\",\n  \"Depict\",\n  \"Depreciated\",\n  \"Derive\",\n  \"Describe\",\n  \"Design\",\n  \"Detail\",\n  \"Detect\",\n  \"Determine\",\n  \"Develop\",\n  \"Devise\",\n  \"Devote\",\n  \"Diagnose\",\n  \"Diagram\",\n  \"Differentiate\",\n  \"Direct\",\n  \"Discharge\",\n  \"Disclose\",\n  \"Discover\",\n  \"Discriminate\",\n  \"Discuss\",\n  \"Dispatch\",\n  \"Display\",\n  \"Dissect\",\n  \"Disseminate\",\n  \"Distinguish\",\n  \"Distribute\",\n  \"Diversify\",\n  \"Document\",\n  \"Draft\",\n  \"Draw\",\n  \"Drew\",\n  \"Earn\",\n  \"Edit\",\n  \"Educate\",\n  \"Effect\",\n  \"Elect\",\n  \"Elicit\",\n  \"Eliminate\",\n  \"Emphasize\",\n  \"Employ\",\n  \"Enable\",\n  \"Encourage\",\n  \"Enforce\",\n  \"Engineer\",\n  \"Enhance\",\n  \"Enlarge\",\n  \"Enlighten\",\n  \"Enlist\",\n  \"Enrich\",\n  \"Ensure\",\n  \"Enter\",\n  \"Entertain\",\n  \"Enumerate\",\n  \"Equip\",\n  \"Establish\",\n  \"Estimate\",\n  \"Evaluate\",\n  \"Examine\",\n  \"Exchange\",\n  \"Execute\",\n  \"Exercise\",\n  \"Exhibit\",\n  \"Expand\",\n  \"Expedite\",\n  \"Experiment\",\n  \"Explain\",\n  \"Explore\",\n  \"Express\",\n  \"Extend\",\n  \"Extract\",\n  \"Extrapolate\",\n  \"Fabricate\",\n  \"Facilitate\",\n  \"Familiarize\",\n  \"Fashion\",\n  \"File\",\n  \"Filter\",\n  \"Finalize\",\n  \"Fine-tune\",\n  \"Fix\",\n  \"Focus\",\n  \"Forecast\",\n  \"Formulate\",\n  \"Fortify\",\n  \"Forward\",\n  \"Foster\",\n  \"Found\",\n  \"Frame\",\n  \"Fund\",\n  \"Furnish\",\n  \"Further\",\n  \"Gather\",\n  \"Gauge\",\n  \"Generate\",\n  \"Govern\",\n  \"Grade\",\n  \"Grant\",\n  \"Greet\",\n  \"Guide\",\n  \"Handle\",\n  \"Head\",\n  \"Help\",\n  \"Highlight\",\n  \"Hire\",\n  \"Host\",\n  \"Identify\",\n  \"Illustrate\",\n  \"Impart\",\n  \"Implement\",\n  \"Import\",\n  \"Improve\",\n  \"Improvise\",\n  \"Incorporate\",\n  \"Increase\",\n  \"Index\",\n  \"Individualize\",\n  \"Influence\",\n  \"Inform\",\n  \"Initiate\",\n  \"Innovate\",\n  \"Inspect\",\n  \"Inspire\",\n  \"Install\",\n  \"Institute\",\n  \"Instruct\",\n  \"Insure\",\n  \"Integrate\",\n  \"Interact\",\n  \"Interface\",\n  \"Interpret\",\n  \"Intervene\",\n  \"Interview\",\n  \"Introduce\",\n  \"Invent\",\n  \"Inventory\",\n  \"Investigate\",\n  \"Involve\",\n  \"Join\",\n  \"Judge\",\n  \"Justify\",\n  \"Label\",\n  \"Launch\",\n  \"Lead\",\n  \"Learn\",\n  \"Lecture\",\n  \"License\",\n  \"Lighten\",\n  \"Liquidate\",\n  \"List\",\n  \"Listen\",\n  \"Litigate\",\n  \"Lobby\",\n  \"Localize\",\n  \"Locate\",\n  \"Log\",\n  \"Maintain\",\n  \"Manage\",\n  \"Manufacture\",\n  \"Map\",\n  \"Market\",\n  \"Master\",\n  \"Maximize\",\n  \"Measure\",\n  \"Mechanize\",\n  \"Mediate\",\n  \"Mentor\",\n  \"Merge\",\n  \"Methodize\",\n  \"Minimize\",\n  \"Mobilize\",\n  \"Model\",\n  \"Moderate\",\n  \"Modernize\",\n  \"Modify\",\n  \"Monitor\",\n  \"Motivate\",\n  \"Narrate\",\n  \"Navigate\",\n  \"Negotiate\",\n  \"Notify\",\n  \"Nurse\",\n  \"Nurture\",\n  \"Observe\",\n  \"Obtain\",\n  \"Officiate\",\n  \"Offset\",\n  \"Operate\",\n  \"Orchestrate\",\n  \"Order\",\n  \"Organize\",\n  \"Orient\",\n  \"Orientate\",\n  \"Originate\",\n  \"Outline\",\n  \"Overhaul\",\n  \"Oversaw\",\n  \"Oversee\",\n  \"Package\",\n  \"Participate\",\n  \"Perceive\",\n  \"Perfect\",\n  \"Perform\",\n  \"Persuade\",\n  \"Photograph\",\n  \"Pilot\",\n  \"Pioneer\",\n  \"Plan\",\n  \"Practice\",\n  \"Predict\",\n  \"Prepare\",\n  \"Present\",\n  \"Preserve\",\n  \"Preside\",\n  \"Prevent\",\n  \"Print\",\n  \"Prioritize\",\n  \"Probe\",\n  \"Process\",\n  \"Produce\",\n  \"Program\",\n  \"Project\",\n  \"Promote\",\n  \"Propose\",\n  \"Provide\",\n  \"Publicize\",\n  \"Publish\",\n  \"Purchase\",\n  \"Qualify\",\n  \"Quantify\",\n  \"Quote\",\n  \"Raise\",\n  \"Ran\",\n  \"Rank\",\n  \"Rate\",\n  \"Read\",\n  \"Reason\",\n  \"Recall\",\n  \"Recognize\",\n  \"Recommend\",\n  \"Reconcile\",\n  \"Record\",\n  \"Recreate\",\n  \"Recruit\",\n  \"Rectify\",\n  \"Reduce\",\n  \"Refer\",\n  \"Refine\",\n  \"Register\",\n  \"Regulate\",\n  \"Rehabilitate\",\n  \"Reinforce\",\n  \"Relate\",\n  \"Related\",\n  \"Release\",\n  \"Remodel\",\n  \"Render\",\n  \"Renew\",\n  \"Reorganize\",\n  \"Repair\",\n  \"Replace\",\n  \"Report\",\n  \"Represent\",\n  \"Research\",\n  \"Reserve\",\n  \"Resolve\",\n  \"Respond\",\n  \"Restore\",\n  \"Restrict\",\n  \"Retain\",\n  \"Retrieve\",\n  \"Revamp\",\n  \"Reveal\",\n  \"Review\",\n  \"Revise\",\n  \"Revitalize\",\n  \"Route\",\n  \"Sample\",\n  \"Save\",\n  \"Scan\",\n  \"Schedule\",\n  \"Screen\",\n  \"Script\",\n  \"Scrutinize\",\n  \"Search\",\n  \"Secure\",\n  \"Segment\",\n  \"Select\",\n  \"Serve\",\n  \"Service\",\n  \"Settle\",\n  \"Shape\",\n  \"Share\",\n  \"Show\",\n  \"Simplify\",\n  \"Simulate\",\n  \"Sketch\",\n  \"Sold\",\n  \"Solicit\",\n  \"Solve\",\n  \"Sort\",\n  \"Speak\",\n  \"Spearhead\",\n  \"Specialize\",\n  \"Specify\",\n  \"Spoke\",\n  \"Stage\",\n  \"Standardize\",\n  \"Start\",\n  \"Stimulate\",\n  \"Straighten\",\n  \"Strategize\",\n  \"Streamline\",\n  \"Strengthen\",\n  \"Structure\",\n  \"Study\",\n  \"Submit\",\n  \"Substantiate\",\n  \"Substitute\",\n  \"Suggest\",\n  \"Summarize\",\n  \"Supervise\",\n  \"Supply\",\n  \"Support\",\n  \"Surpass\",\n  \"Survey\",\n  \"Sustain\",\n  \"Symbolize\",\n  \"Synthesize\",\n  \"Systematize\",\n  \"Tabulate\",\n  \"Tail\",\n  \"Target\",\n  \"Taught\",\n  \"Teach\",\n  \"Tend\",\n  \"Terminate\",\n  \"Test\",\n  \"Theorize\",\n  \"Time\",\n  \"Tour\",\n  \"Trace\",\n  \"Track\",\n  \"Trade\",\n  \"Train\",\n  \"Transcribe\",\n  \"Transfer\",\n  \"Transform\",\n  \"Translate\",\n  \"Transmit\",\n  \"Transport\",\n  \"Transpose\",\n  \"Travel\",\n  \"Treat\",\n  \"Triple\",\n  \"Troubleshot\",\n  \"Tutor\",\n  \"Uncover\",\n  \"Undertook\",\n  \"Unify\",\n  \"Unveil\",\n  \"Update\",\n  \"Upgrade\",\n  \"Upheld\",\n  \"Use\",\n  \"Utilize\",\n  \"Validate\",\n  \"Value\",\n  \"Verify\",\n  \"View\",\n  \"Visit\",\n  \"Visualize\",\n  \"Vitalize\",\n  \"Volunteer\",\n  \"Weigh\",\n  \"Widen\",\n  \"Win\",\n  \"Withdraw\",\n  \"Witness\",\n  \"Write\",\n  \"Xerox\",\n  \"Zap\",\n  \"Zip\"\n];\n\nexport default verbs;\n","var posMap = {\n    JJ: 'adjective',\n    JJR: 'adjective',\n    JJS: 'adjective',\n    NN: 'noun',\n    NNS: 'nouns',\n    VB: 'verb',\n    VBD: 'verb',\n    VBG: 'verb',\n    VBN: 'verb',\n    VBP: 'verb',\n    VBZ: 'verb'\n}\n\nexport default posMap;","import React, { Fragment } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { useSelector } from \"react-redux\";\n\nconst Blank = props => {\n\n  //console.log('rendering blank');\n\n  let extractedWord = props.extractedWord;\n  let blankOrder = props.blankOrder;\n  let game = useSelector(state => state.game.curGame);\n\n  const [{ canDrop, isOver, wordBeingDragged }, drop] = useDrop({\n    accept: \"word\",\n    order: blankOrder,\n    drop: () => ({ name: extractedWord, order: blankOrder }),\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n      wordBeingDragged: monitor.getItem()\n    })\n  });\n\n  let content = null;\n  let blankFiller = null;\n  let width = \"40px\";\n\n  const isActive = canDrop && isOver;\n  let backgroundColor = 'transparent';\n  let color = backgroundColor;\n  if (isActive) {\n    backgroundColor = \"transparent\";\n    color = \"black\";\n    //size all the blanks according to the word being dragged\n    blankFiller = wordBeingDragged.value;\n    width = 'min-content';\n  } else if (canDrop) {\n    backgroundColor = \"#BF0404\";\n    color = backgroundColor;\n    blankFiller = wordBeingDragged.value;\n    width = 'min-content';\n  }\n\n  let wordInBlank = null;\n\n  if (game !== null) {\n    let droppedWords = game.droppedWords;\n    for (let droppedWord of droppedWords) {\n      if (droppedWord.droppedIn === blankOrder) {\n        wordInBlank = droppedWord;\n      }\n    }\n  }\n\n  //render blank or filled in blank\n  if (wordInBlank !== null) {\n    content = (\n      <span\n        ref={drop}\n        className=\"tweet-blank-filled\"\n        style={{ backgroundColor: \"transparent\", color: \"black\" }}\n      >\n        {wordInBlank.word}\n      </span>\n    );\n  } else {\n    content = (\n      <span\n        ref={drop}\n        className=\"tweet-blank\"\n        style={{ backgroundColor, color, width }}\n      >\n        {blankFiller}\n      </span>\n    );\n  }\n\n  return <Fragment>{content}</Fragment>;\n};\n\nexport default Blank;\n","import React from \"react\";\nimport verbs from \"./../custom-dict/verbs\";\nimport posMap from \"./../config/pos\";\nimport Blank from \"../components/TweetCard/TweetContent/WordBlank\";\nimport GameController from \"./GameController\";\nimport store from '../index';\n\nimport badFile from './../sound/bad.mp3'\nimport goodFile from './../sound/type.mp3';\nimport successFile from './../sound/success.mp3';\nimport failFile from './../sound/fail.mp3';\nimport { strikeIn } from \"../actions\";\n\nlet badSound = new Audio(badFile);\nlet goodSound = new Audio(goodFile);\nlet successSound = new Audio(successFile);\nlet failSound = new Audio(failFile);\n\nvar pos = require(\"pos\");\nvar tagger = new pos.Tagger();\n\n//get sentencer reference for generating random words basd on pos\nvar Sentencer = require(\"sentencer\");\nSentencer.configure({\n\tactions: {\n\t\tverb: function () {\n\t\t\treturn verbs[Math.floor(Math.random() * (verbs.length - 1))];\n\t\t}\n\t}\n});\n\nexport default class FillBlank {\n\tconstructor(newTweet, foundWords) {\n\t\t//call constructor from super class Game\n\t\tthis.curTweet = newTweet;\n\t\tthis.type = 'FillBlank'\n\n\t\t//FillBlank specific properties\n\t\tthis.extractedWords = []; //array of extracted word objects\n\t\tthis.wordOptions = []; //array of word options objects\n\t\tthis.numBlanks = 0;\n\t\tthis.numDropped = 0; //intially equal to zero\n\t\tthis.droppedWords = []; // array of dropped words\n\t\tthis.lives = 3;\n\t\tthis.parent = new GameController();\n\t\tif (foundWords) {\n\t\t\tthis.foundWords = foundWords;\n\t\t\tthis.textToRender = this.extractWords();\n\t\t}\n\t\telse {\n\t\t\tthis.foundWords = null;\n\t\t\tthis.textToRender = this.findAndExtractWords();\n\t\t}\n\t}\n\n\tgetLives() {\n\t\treturn this.lives;\n\t}\n\n\n\tnewGame() {\n\t\tthis.parent.newGame();\n\t}\n\n\t//takes a drop and checks if it's true\n\thandleDrop(droppedWord, droppedIn, correctDrop) {\n\t\t////console.log(\"droppedWord: \" + droppedWord + \", droppedIn: \" + droppedIn);\n\n\t\tlet newWordObj = {\n\t\t\tword: droppedWord,\n\t\t\tdroppedIn: droppedIn\n\t\t};\n\n\t\tif (droppedIn === correctDrop) {\n\t\t\tnewWordObj.correct = true;\n\t\t}\n\t\t//incorrect drop, subtract life and return false\n\t\telse {\n\t\t\tnewWordObj.correct = false;\n\t\t\treturn this.incorrectDrop();\n\t\t}\n\n\n\n\t\t//check if we already dropped the word, move it if so and stop\n\t\tif (this.checkMovedWord(droppedWord)) {\n\t\t\t//console.log(\"moved word\");\n\t\t\tfor (let i = 0; i < this.droppedWords.length; i++) {\n\t\t\t\tlet wordObj = this.droppedWords[i];\n\t\t\t\t//console.log(wordObj);\n\t\t\t\tif (wordObj.word === newWordObj.word) {\n\t\t\t\t\t//console.log(wordObj);\n\t\t\t\t\tthis.droppedWords[i] = newWordObj;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//check if already filled the blank, change the word if so\n\t\telse if (this.checkAlreadyDropped(droppedIn)) {\n\t\t\t//console.log(\"already dropped\");\n\t\t\tfor (let i = 0; i < this.droppedWords.length; i++) {\n\t\t\t\tlet wordObj = this.droppedWords[i];\n\t\t\t\tif (wordObj.droppedIn === newWordObj.droppedIn) {\n\t\t\t\t\tthis.droppedWords[i] = newWordObj;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//else add the word\n\t\telse {\n\t\t\tthis.droppedWords.push(newWordObj)\n\t\t}\n\n\t\treturn this.correctDrop();\n\n\t}\n\n\tcheckMovedWord(word) {\n\t\t//check to see if we have the word in our dropped word array\n\t\tfor (let wordObj of this.droppedWords) {\n\t\t\tif (wordObj.word === word) {\n\t\t\t\t//we already have the word\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t//new word\n\t\treturn false;\n\t}\n\n\t//checks to see if the blank is alrFieady filled\n\t//returns true with already dropped, so need to update word\n\t//or false and need to add word\n\tcheckAlreadyDropped(dropID) {\n\t\t//check to see if we already dropped a word in this spot\n\t\tfor (let wordObj of this.droppedWords) {\n\t\t\tif (wordObj.droppedIn === dropID) {\n\t\t\t\t//we already filled the blank\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t//blank is empty\n\t\treturn false\n\t}\n\n\n\n\t//handles a correct drop\n\tcorrectDrop() {\n\t\t//probably add word here\n\t\tif (store.getState().ui.playSound === true) {\n\t\t\tgoodSound.play();\n\t\t}\n\t\tlet done = this.checkDone();\n\t\tif (done) {\n\t\t\tthis.parent.updateGame(this);\n\t\t}\n\t\treturn true;\n\t}\n\n\t//handles an incorrect drop\n\tincorrectDrop() {\n\t\t//subtract life\n\t\tthis.lives = this.lives - 1;\n\t\tif (store.getState().ui.playSound === true) {\n\t\t\tbadSound.play();\n\t\t}\n\t\tif (this.lives === 0) {\n\t\t\tthis.fail();\n\t\t}\n\t\telse {\n\n\t\t\t//THIS IS WHERE STRIKE ANIMATION FIRING CODE SHOULD GO\n\t\t\tstore.dispatch(strikeIn())\n\t\t\tthis.parent.updateGame(this);\n\t\t}\n\t}\n\n\t//checks if we have filled all the blanks\n\tcheckDone() {\n\t\t//finally check if we've finished completing the tweet\n\t\t//console.log('checking to see if we completed the entire tweet');\n\t\tif (this.droppedWords.length === this.extractedWords.length) {\n\t\t\tthis.success();\n\t\t\treturn true;\n\t\t}\n\t\telse return false\n\t}\n\n\t//game is done and everything is correct\n\tasync success() {\n\t\tif (store.getState().ui.playSound === true) {\n\t\t\tsuccessSound.play();\n\t\t}\n\t\tawait this.parent.animateOut();\n\t\tthis.type = 'Complete';\n\t\tthis.status = 'Success'\n\t\tthis.parent.updateGame(this);\n\t\treturn true;\n\t}\n\n\n\n\t//game is done and not everything is correct\n\tasync fail() {\n\t\t//display some sort of failure message\n\t\t//proceed to next tweet\n\t\tif (store.getState().ui.playSound === true) {\n\t\t\tfailSound.play();\n\t\t}\n\t\tawait this.parent.animateOut();\n\t\tthis.type = 'Complete';\n\t\tthis.status = 'Fail'\n\t\tthis.parent.updateGame(this);\n\t}\n\n\n\t//takes an array of extracted words (objects) and updates numExtracted words\n\tsetExtractedWords(extractedWords) {\n\t\tthis.extractedWords = extractedWords;\n\t\tthis.numBlanks = extractedWords.length;\n\t}\n\n\t//takes array of word options (objects)\n\tsetWordOptions(wordOptions) {\n\t\tthis.wordOptions = wordOptions;\n\t}\n\n\t//set the correct\n\tsetCorrect(correct) {\n\t\tthis.correct = correct;\n\t}\n\n\t//set the done property\n\tsetDone(done) {\n\t\tthis.done = done;\n\t}\n\n\tstatic fromJSON(serializedJson) {\n\t\tlet newInstance = new FillBlank(serializedJson.curTweet, serializedJson.foundWords);\n\n\t\tif (newInstance.type !== 'NoWords') {\n\t\t\tnewInstance.type = 'FillBlank'\n\t\t}\n\t\tnewInstance.extractedWords = serializedJson.extractedWords; //array of extracted word objects\n\t\tnewInstance.wordOptions = serializedJson.wordOptions; //array of word options objects\n\t\tnewInstance.numBlanks = serializedJson.numBlanks;\n\t\tnewInstance.numDropped = serializedJson.numDropped; //intially equal to zero\n\t\tnewInstance.droppedWords = serializedJson.droppedWords; // array of dropped words\n\t\tnewInstance.lives = serializedJson.lives;\n\t\tnewInstance.parent = new GameController();\n\n\t\treturn newInstance;\n\t}\n\n\tfindAndExtractWords() {\n\t\treturn this.getRandomWords();\n\t}\n\n\t//pick which words we will eventually extract\n\tgetRandomWords() {\n\t\t//get the text\n\t\tlet text = this.curTweet.text;\n\t\t//construct regex to split string into all words\n\t\tlet allWordReg;\n\t\ttry { //try positive lookahead \n\t\t\tlet allWordExp =\n\t\t\t\t\"(?<!@)(?<=\\\\s|^|\\\\b)(?:[-’'%$#&\\\\/]\\\\b|\\\\b[-’'%$#&\\\\/]|[A-Za-z0-9]|\\\\([A-Za-z0-9]+\\\\))+(?=\\\\s|$|\\\\b)\";\n\t\t\tallWordReg = new RegExp(allWordExp, \"g\");\n\t\t}\n\t\tcatch { //revert to less robust exp if there's an error\n\t\t\tconsole.error('RegEx feature not supported, using fallback')\n\t\t\tlet allWordExp = \"([-’'%$#&\\\\/]\\\\b|\\\\b[-’'%$#&\\\\/]|[-A-Za-z0-9]|([A-Za-z0-9]+))*\"\n\t\t\tallWordReg = new RegExp(allWordExp, \"g\");\n\t\t}\n\n\n\t\t//use regex to create array of all words in tweet\n\t\tlet wordAr = text.match(allWordReg);\n\n\t\t//some issue with getting words - maybe all emojis or excalamation or something else\n\t\tif (wordAr === null) {\n\t\t\t//log an error and just return the text to avoid crash\n\t\t\tthis.type = 'NoWords';\n\t\t\treturn null;\n\t\t}\n\t\t//declare array to hold all words we extract\n\t\tlet extractedWordArray = [];\n\n\t\tlet numCheckedWords = 0;\n\n\t\t//determine how many words to extract based on number of characters\n\t\tlet numChar = text.length;\n\t\tlet numWordsToExtract = 1;\n\t\tif (numChar <= 50) {\n\t\t\tnumWordsToExtract = 1;\n\t\t} else if (numChar > 50 && numChar <= 150) {\n\t\t\tnumWordsToExtract = 2;\n\t\t} else if (numChar > 150 && numChar <= 2500) {\n\t\t\tnumWordsToExtract = 3;\n\t\t} else {\n\t\t\tnumWordsToExtract = 4;\n\t\t}\n\n\t\tusedIdx = [];\n\t\t//get 2 random words\n\t\tfor (let i = 0; i < numWordsToExtract; i++) {\n\t\t\t//get a random index and get the word at that index\n\t\t\tlet randIdx = getRandomUniqueIndex(wordAr.length - 1);\n\t\t\tlet extractedWord = wordAr[randIdx];\n\n\t\t\twhile (\n\t\t\t\tcheckValidWord(extractedWord, extractedWordArray) === false &&\n\t\t\t\tnumCheckedWords < wordAr.length - 1\n\t\t\t) {\n\t\t\t\trandIdx = getRandomUniqueIndex(wordAr.length - 1);\n\t\t\t\textractedWord = wordAr[randIdx];\n\t\t\t\tnumCheckedWords++;\n\t\t\t}\n\n\n\t\t\tif (numCheckedWords === wordAr.length - 1) {\n\t\t\t\t//console.log(\"checked all the words\");\n\t\t\t\t//can't do FIB so resort to GuessAuthor\n\t\t\t\tthis.type = 'NoWords';\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\tlet wordLex = new pos.Lexer().lex(extractedWord);\n\t\t\t\tlet taggedWord = tagger.tag(wordLex);\n\t\t\t\tlet wordPos = taggedWord[0][1];\n\n\t\t\t\tlet mappedPos = posMap[wordPos];\n\n\t\t\t\textractedWordArray.push({\n\t\t\t\t\tword: extractedWord,\n\t\t\t\t\tmappedPOS: mappedPos\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t\t//we picked out words, next up: find them\n\t\treturn this.findWordsInText(extractedWordArray);\n\n\n\t}\n\n\t//take the words we want to find and then....find them in the text\n\tfindWordsInText(extractedWordArray) {\n\t\t//get the text\n\t\tlet text = this.curTweet.text;\n\t\t//declare array to keep track of words as we find them in the tweet\n\t\tlet foundWordArray = [];\n\n\t\tfor (let word of extractedWordArray) {\n\t\t\t//construct regex to search for the current word\n\t\t\tvar searchExtractedWord = `\\\\b${word.word}\\\\b`;\n\t\t\tvar regSearchExtractedWord = new RegExp(searchExtractedWord);\n\n\t\t\t//determine the indices of beginning and end of word\n\t\t\tlet startIdx = text.search(regSearchExtractedWord);\n\t\t\tlet endIdx = startIdx + word.word.length - 1;\n\n\t\t\t//push an object containing the found indices and the word itself\n\t\t\tfoundWordArray.push({\n\t\t\t\tword: word.word,\n\t\t\t\tstart: startIdx,\n\t\t\t\tend: endIdx,\n\t\t\t\tpos: word.mappedPOS\n\t\t\t});\n\t\t}\n\n\t\t//sort the array so that smallest idx is first\n\t\tfoundWordArray.sort((a, b) => (a.start > b.start ? 1 : -1));\n\n\t\t//set property incase we need to re-extract later\n\t\t//console.log('setting foundWords')\n\t\tthis.foundWords = foundWordArray;\n\n\t\t//we have a sorted array of words we want to extract and their start/end indexes\n\t\treturn this.extractWords()\n\t}\n\n\textractWords() {\n\t\t//console.log('extractingWords');\n\t\t//get the text\n\t\tlet text = this.curTweet.text;\n\t\tlet foundWordArray = this.foundWords;\n\n\t\tlet extractWordObjs = [];\n\n\t\t//loop through sorted found words and extract accordingly\n\t\tfor (let i = 0; i < foundWordArray.length; i++) {\n\t\t\tlet foundWord = foundWordArray[i];\n\t\t\textractWordObjs.push({\n\t\t\t\tword: foundWord.word,\n\t\t\t\torder: i,\n\t\t\t\tpos: foundWord.pos\n\t\t\t});\n\n\t\t\tvar searchFoundWord = `(\\\\b${foundWord.word})`;\n\t\t\tvar foundWordRegex = new RegExp(searchFoundWord);\n\n\t\t\t//replace the word with a blank placeholder\n\t\t\ttext = text.replace(foundWordRegex, \"*!*!%[need a blank here plzz]*!*!%\");\n\t\t\t////console.log(\"text after replace:\" + text);\n\t\t}\n\n\t\t//split text into array at seperators\n\t\tlet parts = text.split(\"*!*!%\");\n\n\t\t//array to hold all the jsx\n\t\tlet jsxAr = [];\n\n\t\t//iterator to keep track of what word we're replacing\n\t\tlet curWordIdx = 0;\n\n\t\tlet startIdx;\n\t\tif (parts[0] === '') {\n\t\t\tstartIdx = 1;\n\t\t}\n\t\telse {\n\t\t\tstartIdx = 0;\n\t\t}\n\n\t\tfor (let i = startIdx; i < parts.length; i++) {\n\t\t\t//insert fill in the blank compenent in at placeholder\n\t\t\tif (parts[i] === \"[need a blank here plzz]\") {\n\t\t\t\tjsxAr.push(\n\t\t\t\t\t<Blank\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\textractedWord={extractWordObjs[curWordIdx].word}\n\t\t\t\t\t\tblankOrder={extractWordObjs[curWordIdx].order}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t\t//increment curWordIdx iterator\n\t\t\t\tcurWordIdx++;\n\t\t\t}\n\t\t\t//or just put the text\n\t\t\telse {\n\t\t\t\tjsxAr.push(<span key={i}>{parts[i]}</span>);\n\t\t\t}\n\t\t}\n\n\t\tif (jsxAr.length < 2) {\n\t\t\tthis.parent.newGuessAuthor(this.curTweet);\n\t\t\treturn null;\n\t\t}\n\n\t\t//one correct word and three matching random incorrect words\n\t\tlet wordOptions = [];\n\t\tfor (let word of extractWordObjs) {\n\t\t\twordOptions.push({\n\t\t\t\tword: word.word,\n\t\t\t\torder: word.order\n\t\t\t});\n\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\tlet randWord = Sentencer.make(`{{ ${word.pos} }}`);\n\t\t\t\tlet normedWord = normalizeCap(word.word, randWord);\n\t\t\t\twordOptions.push({\n\t\t\t\t\tword: normedWord,\n\t\t\t\t\torder: -1\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\n\t\twordOptions = shuffle(wordOptions);\n\t\tthis.setWordOptions(wordOptions);\n\n\t\tthis.setExtractedWords(extractWordObjs);\n\n\t\t//console.log(jsxAr);\n\n\t\treturn jsxAr;\n\t}\n}\n\n//function that transforms the randomly generated word to match the case of the correct choice it corresponds to\nvar normalizeCap = (modelWord, normWord) => {\n\n\tlet character = '';\n\tlet i = 0;\n\tlet allCaps = true;\n\tlet normedChars = [];\n\twhile (i < modelWord.length) {\n\t\tcharacter = modelWord.charAt(i);\n\n\t\tif (!isNaN(character * 1)) {\n\t\t\talert('character is numeric');\n\t\t} else {\n\t\t\tif (character === character.toUpperCase()) {\n\t\t\t\t//character is uppercase\n\t\t\t\t//need to make sure normWord is not shorter than modelWord\n\t\t\t\tif (normWord[i]) {\n\t\t\t\t\tnormedChars[i] = normWord[i].toUpperCase();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (character === character.toLowerCase()) {\n\t\t\t\t//character is lowercase\n\t\t\t\tallCaps = false;\n\t\t\t\tif (normWord[i]) {\n\t\t\t\t\tnormedChars[i] = normWord[i].toLowerCase();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\ti++;\n\t}\n\t//capitalize the rest of normWord if the model word is all caps\n\tif (allCaps === true) {\n\t\twhile (i < normWord.length) {\n\t\t\tnormedChars[i] = normWord[i].toUpperCase();\n\t\t\ti++;\n\t\t}\n\t}\n\telse {\n\t\twhile (i < normWord.length) {\n\t\t\tnormedChars[i] = normWord[i];\n\t\t\ti++;\n\t\t}\n\t}\n\n\treturn normedChars.join('');\n}\n\nvar shuffle = (array) => {\n\tvar currentIndex = array.length, temporaryValue, randomIndex;\n\n\t// While there remain elements to shuffle...\n\twhile (0 !== currentIndex) {\n\n\t\t// Pick a remaining element...\n\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\tcurrentIndex -= 1;\n\n\t\t// And swap it with the current element.\n\t\ttemporaryValue = array[currentIndex];\n\t\tarray[currentIndex] = array[randomIndex];\n\t\tarray[randomIndex] = temporaryValue;\n\t}\n\n\treturn array;\n}\n\n//private function to get a random index from the text word array\nlet usedIdx = [];\n\nvar getRandomUniqueIndex = max => {\n\t////console.log(\"usedIdx: \" + usedIdx);\n\tlet newIdx = Math.floor(Math.random() * Math.floor(max));\n\twhile (usedIdx.includes(newIdx) && usedIdx.length < max) {\n\t\tnewIdx = Math.floor(Math.random() * Math.floor(max));\n\t}\n\tusedIdx.push(newIdx);\n\treturn newIdx;\n};\n\n//private function to make sure the word is good\nvar checkValidWord = (word, extractedWordArray) => {\n\t//need word to be at least 2 characters\n\tif (word.length < 3) {\n\t\treturn false;\n\t}\n\t//don't get the same word twice\n\tif (extractedWordArray.includes(word)) {\n\t\treturn false;\n\t}\n\t//only want nouns, adj, and verbs\n\tlet wordLex = new pos.Lexer().lex(word);\n\tlet taggedWord = tagger.tag(wordLex);\n\tlet wordPos = taggedWord[0][1];\n\tif (\n\t\twordPos !== \"NN\" &&\n\t\twordPos !== \"NNS\" &&\n\t\twordPos !== \"JJ\" &&\n\t\twordPos !== \"JJR\" &&\n\t\twordPos !== \"JJS\" &&\n\t\twordPos !== \"VB\" &&\n\t\twordPos !== \"VBN\" &&\n\t\twordPos !== \"VBD\" &&\n\t\twordPos !== \"VBG\" &&\n\t\twordPos !== \"VBP\" &&\n\t\twordPos !== \"VBZ\"\n\t) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n","import React from 'react'\nimport GameController from './../classes/GameController';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { tweetOut, optionsOut, tweetIn } from '../actions';\n\nimport clickFile from './../sound/click.mp3';\n\nlet clickSound = new Audio(clickFile);\n\nlet gameController = new GameController();\n\nlet dispatch;\n\n\n\nlet animateAndNext = async (fail) => {\n    if(playSound === true) {\n        clickSound.play();\n    }\n    if (fail === true) {\n        dispatch(optionsOut());\n        setTimeout(function () {\n            gameController.newGame()\n            dispatch(tweetIn());\n        }, 200);\n    }\n    else {\n        dispatch(tweetOut());\n        dispatch(optionsOut());\n        setTimeout(function () {\n            gameController.newGame()\n        }, 200);\n    }\n\n}\n\nlet playSound = true;\n\nconst TweetNav = () => {\n\n    dispatch = useDispatch();\n\n    let curGame = useSelector(state => state.game.curGame);\n    playSound = useSelector(state => state.ui.playSound);\n\n    let message = 'Tweet completed.';\n\n    let fail = false;\n\n    if (curGame !== null) {\n        if (curGame.type === 'Complete') {\n            if (curGame.status === 'Fail') {\n                fail = true;\n                message = 'Fail. Keep moving.'\n            }\n\n        }\n    }\n\n    return (\n        <div className=\"tweet-nav-wrapper\">\n            <h2 className='tweet-nav-title'>{message}</h2>\n            <button className='tweet-nav-button small-text' onClick={() => animateAndNext(fail)}>NEXT &#x27AA;</button>\n        </div>\n    )\n}\n\nexport default TweetNav","import store from './../index';\nimport GameController from './GameController';\n\nimport badFile from './../sound/bad.mp3'\nimport goodFile from './../sound/type.mp3';\nimport successFile from './../sound/success.mp3';\nimport failFile from './../sound/fail.mp3';\nimport { strikeIn } from '../actions';\n\nlet badSound = new Audio(badFile);\nlet goodSound = new Audio(goodFile);\nlet successSound = new Audio(successFile);\nlet failSound = new Audio(failFile);\n\nexport default class GuessAuthor {\n    constructor(newTweet) {\n\n        console.log(\"constructing GuessAuthor\");\n        this.curTweet = newTweet;\n        this.type = 'GuessAuthor';\n\n        this.friendOptions = [];\n        this.lives = 3;\n\n        this.parent = new GameController();\n    }\n\n    getLives() {\n        return this.lives;\n    }\n\n    newGame() {\n        //invoke method from GameController\n        this.parent.newGame();\n    }\n\n    //return 5 random friends\n    async getRandomFriends(friendList, init) {\n        let state;\n        let friends = null;\n        if (store !== undefined) {\n            state = store.getState();\n            if (friendList !== undefined) {\n                friends = friendList;\n            }\n            else {\n                friends = state.game.parsedFriends;\n            }\n        }\n        else {\n            if (friendList !== undefined) {\n                friends = friendList;\n            }\n            else {\n                friends = await this.parent.fetchAllFriends();\n            }\n        }\n\n        console.log(friends);\n\n        let correctAuthor = this.curTweet.user;\n\n        correctAuthor.correct = true;\n\n        let friendOptions = [];\n\n        friendOptions.push(correctAuthor);\n\n        for (let i = 0; i < 5; i++) {\n            if (friends !== null) {\n                let randIdx = getRandomUniqueIndex(friends.length - 1);\n                let randFriend = friends[randIdx];\n                while (randFriend.handle === correctAuthor.handle) {\n                    randIdx = getRandomUniqueIndex(friends.length - 1);\n                    randFriend = friends[randIdx];\n                }\n                randFriend.correct = false;\n                friendOptions.push(randFriend);\n            }\n        }\n\n        friendOptions = shuffle(friendOptions);\n\n        this.friendOptions = friendOptions;\n\n        if (!init) {\n            this.parent.updateGame(this);\n        }\n    }\n\n\n    handleDrop(correct) {\n        //correct drop! do some things\n        if (correct) {\n            if (store.getState().ui.playSound === true) {\n                goodSound.play();\n            }\n            this.success();\n        }\n        //incorrect drop! do some other things\n        else if (!correct) {\n            this.incorrectDrop();\n        }\n    }\n\n    incorrectDrop() {\n        //subtract life\n        this.lives = this.lives - 1;\n        if (store.getState().ui.playSound === true) {\n\t\t\tbadSound.play();\n\t\t}\n        if (this.lives === 0) {\n            this.fail();\n        }\n        else {\n            //THIS IS WHERE STRIKE ANIMATION FIRING CODE SHOULD GO\n            store.dispatch(strikeIn());\n            this.parent.updateGame(this);\n        }\n    }\n\n    async success() {\n        //get the next tweet\n        if (store.getState().ui.playSound === true) {\n\t\t\tsuccessSound.play();\n\t\t}\n        await this.parent.animateOut();\n        this.status = 'Success'\n        this.type = 'Complete';\n        this.parent.updateGame(this);\n    }\n\n    async fail() {\n        //display some sort of failure message\n        //proceed to next tweet\n        if (store.getState().ui.playSound === true) {\n\t\t\tfailSound.play();\n\t\t}\n        await this.parent.animateOut();\n        this.status = 'Fail'\n        this.type = 'Complete';\n        this.parent.updateGame(this);\n    }\n\n    static fromJSON(serializedJson) {\n        let newInstance = new GuessAuthor(serializedJson.curTweet);\n        newInstance.parent = new GameController();\n        newInstance.type = 'GuessAuthor';\n        return newInstance;\n    }\n\n}\n\nlet usedIdx = [];\n\nvar getRandomUniqueIndex = max => {\n    let newIdx = Math.floor(Math.random() * Math.floor(max));\n    while (usedIdx.includes(newIdx) && usedIdx.length < max) {\n        newIdx = Math.floor(Math.random() * Math.floor(max));\n    }\n    usedIdx.push(newIdx);\n    return newIdx;\n};\n\nvar shuffle = (array) => {\n    var currentIndex = array.length, temporaryValue, randomIndex;\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n\n        // Pick a remaining element...\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n\n        // And swap it with the current element.\n        temporaryValue = array[currentIndex];\n        array[currentIndex] = array[randomIndex];\n        array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n}","import FillBlank from './FillBlank';\nimport GuessAuthor from './GuessAuthor';\nimport store from '../index';\nimport {\n  updateParsedTweets,\n  updateCurGame,\n  setDataAndInitGame,\n  tweetOut,\n  optionsOut\n} from \"../actions\";\nimport { toast, Zoom } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nvar he = require('he');\n\nexport default class GameController {\n\n  //fetch data and create a new game\n  async init() {\n    //console.log(\"init\")\n    let tweets = await this.fetchNewTweets();\n    let friends = await this.fetchAllFriends();\n    let newGame = await this.newGame(true, tweets, friends);\n    let lastTweetFetched = null;\n    if (tweets !== null && tweets.length > 0) {\n      lastTweetFetched = tweets[tweets.length - 1].tweetID;\n    }\n    if (newGame && tweets && friends) {\n      store.dispatch(setDataAndInitGame(newGame, friends, tweets, lastTweetFetched));\n    }\n    else {\n      if (tweets === null) {\n        newGame.type = 'NoTweets';\n      }\n      console.error('problem in GameController.init()');\n      store.dispatch(setDataAndInitGame(newGame, friends, tweets, lastTweetFetched));\n    }\n    return Promise.resolve();\n  }\n\n  pickGame() {\n\n  }\n\n  async newGame(shouldReturn, tweets, friends) {\n    //console.log(\"creating new game\");\n    //determine FillBlank or GuessAuthor psuedo randomly and instantiate\n    let state = store.getState();\n    //get all the tweets\n    let allTweets;\n    if (tweets) {\n      //console.log('using tweets parameter');\n      allTweets = tweets;\n    }\n    else {\n      //console.log('using tweets from state')\n      allTweets = state.game.parsedTweets;\n    }\n\n    if (allTweets && allTweets.length > 0) {\n      //remove the first one and save it (will be used to create new game)\n      let firstTweet = allTweets.splice(0, 1);\n      //determine FillBlank or GuessAuthor\n      let randomNumber = pickRandomNumber();\n      let newGame;\n      if (randomNumber <= 2) {\n        //instantiate FillBlank game\n        newGame = new FillBlank(firstTweet[0])\n\n        if (newGame.type === 'NoWords') {\n          newGame = new GuessAuthor(firstTweet[0]);\n          if (friends) {\n            newGame.getRandomFriends(friends);\n          }\n          newGame.getRandomFriends();\n        }\n      }\n      else {\n        //instantiate GuessAuthor game and make sure we get some random friends\n        newGame = new GuessAuthor(firstTweet[0]);\n        if (friends) {\n          newGame.getRandomFriends(friends);\n        }\n        newGame.getRandomFriends();\n      }\n\n      if (shouldReturn === true) {\n        return newGame;\n      }\n\n      else {\n        //call methods to update the store accordingly\n        this.updateTweets(allTweets);\n        this.updateGame(newGame);\n      }\n\n\n    }\n    else {\n      //console.log(\"out of tweets, fetching more\");\n      let newTweets = await this.fetchNewTweets();\n      //console.log(newTweets);\n      if (newTweets === null || Object.keys(newTweets).length < 1) {\n        console.error('Out of tweets in GameController.newGame()');\n        if (state.game.curGame !== null) {\n          state.game.curGame.type = 'NoTweets';\n        }\n        else {\n          state.game.curGame = {};\n          state.game.curGame.type = 'NoTweets';\n        }\n        toast.error(\"NO NEW TWEETS TO FETCH\", {\n          position: \"bottom-center\",\n          autoClose: 2000,\n          closeButton: false,\n          pauseOnHover: true,\n          draggable: false,\n          transition: Zoom,\n          hideProgressBar: true,\n          className:'toast'\n        });\n        this.updateGame(state.game.curGame);\n      }\n      else {\n        //console.log('Got ' + Object.keys(newTweets).length - 1 + ' new tweets.')\n        this.updateTweets(newTweets);\n        this.newGame();\n      }\n\n    }\n  }\n\n  //method to handle when we can't get the tweets (either bad params, rate-limited, or simply no new tweets to fetch)\n  failFetchTweets() {\n\n  }\n\n  newGuessAuthor(tweet) {\n    //console.log(\"couldn't extract words, constructing GuessAuthor\");\n\n    let newGame = new GuessAuthor(tweet);\n    newGame.getRandomFriends(undefined, true);\n\n    return // also updates the store\n  }\n\n  updateTweets(tweets) {\n    let lastTweetFetched = null;\n    if (tweets.length > 0) {\n      lastTweetFetched = tweets[tweets.length - 1].tweetID;\n    }\n    store.dispatch(updateParsedTweets(tweets, lastTweetFetched));\n  }\n\n\n  //resolves after 1 second - need to adjust to accomodate different times\n  async animateOut() {\n    store.dispatch(tweetOut());\n    store.dispatch(optionsOut());\n\n    return new Promise(resolve => setTimeout(\n      () => {\n        resolve();\n      }, 200\n    ));\n  }\n\n  updateGame(newGame) {\n\n    store.dispatch(updateCurGame(newGame));\n\n  }\n\n  async fetchNewTweets(updateStore) {\n\n    let state = store.getState();\n    //console.log(\"fetchNewTweets\");\n\n    //only fetch if we have authenticated\n    if (state.user.userDetails !== null) {\n      //get our tokens from store\n      let userToken = state.user.userDetails.twitterProvider.token;\n      let userTokenSecret = state.user.userDetails.twitterProvider.tokenSecret;\n      //get our last tweet id from store (null if first fetch)\n      let lastTweetFetched = state.game.lastTweetFetched;\n\n      if (userToken !== null && userTokenSecret !== null) {\n        return await fetch(\n          `https://slow-twitter.appspot.com/api/v1/timeline?aT=${userToken}&aTS=${userTokenSecret}${\n          lastTweetFetched ? `&since=${lastTweetFetched}` : ``\n          }`,\n          { headers: { \"Content-Type\": \"application/json; charset=utf-8\" } }\n        )\n          .then(res => res.json())\n          .then(response => {\n            //make sure response not null\n            if (response) {\n              //console.log(response);\n              if (response.errors) {\n                console.error('errors fetching new tweets');\n                return null;\n              }\n              else {\n                let parsedTweets = parseRawTweets(response);\n                //push to store\n                if (updateStore) {\n                  this.updateTweets(parsedTweets)\n                }\n                else {\n                  return parsedTweets;\n                }\n              }\n\n            }\n            else {\n              return null;\n            }\n          })\n          .catch(res => {\n            //console.log(res);\n            return null;\n          });\n      } else {\n        console.error(\"Cannot refreshFeed, bad args\");\n\n      }\n    }\n  }\n\n\n  async fetchAllFriends() {\n    let allUserData = [];\n\n    //get first page of 20 users (wait for async fetch funtion)\n    let response = await fetchFriends();\n    //console.log(response);\n    let cursor;\n\n    //get susequent pages of users\n    while (response && !response.errors && response.next_cursor !== -1) {\n      for (let user of response.users) {\n        allUserData.push(user);\n      }\n      cursor = response.next_cursor_str;\n      response = await fetchFriends(cursor);\n      //console.log(response);\n    }\n\n    //make sure we got some data\n    if (allUserData.length > 0) {\n      //send to parser function\n      let parsedFriends = parseRawFriends(allUserData);\n      //update store\n      return Promise.resolve(parsedFriends);\n    }\n    else {\n      console.error(\"allUserData empty after getAllFriends()\");\n      return Promise.resolve(null);\n    }\n  }\n\n}\n\nvar pickRandomNumber = () => {\n  return Math.floor(Math.random() * Math.floor(4));\n\n}\n\nconst fetchFriends = async (cursor) => {\n\n  let state = store.getState();\n\n  let userToken = state.user.userDetails.twitterProvider.token;\n  let userTokenSecret = state.user.userDetails.twitterProvider.tokenSecret;\n\n  if (userToken !== null && userTokenSecret !== null) {\n    return await fetch(\n      `https://slow-twitter.appspot.com/api/v1/friends/list?aT=${userToken}&aTS=${userTokenSecret}${cursor ? `&cursor=${cursor}` : ``}`,\n      { headers: { \"Content-Type\": \"application/json; charset=utf-8\" } }\n    )\n      .then(res => res.json())\n      .then(response => {\n        //make sure it's not null\n        if (response.errors) {\n          console.error('could not fetch response');\n          console.error(response.errors);\n          return null;\n        }\n        else return response;\n      })\n      .catch(err => {\n        console.error(err);\n        return null\n      });\n  }\n  else {\n    console.error(\"user not auth in fetchFriends()\");\n    return Promise.resolve();\n  }\n\n}\n\nvar parseRawFriends = (rawFriends) => {\n  let parsedFriends = [];\n  //make sure we got em\n  if (rawFriends) {\n    for (let user of rawFriends) {\n      parsedFriends.push({\n        name: user.name,\n        pic: user.profile_image_url,\n        handle: user.screen_name\n      });\n    }\n\n    //push to store\n    return parsedFriends;\n\n  }\n\n  else {\n    console.error(\"rawFriends empty in parseRawFriends()\")\n  }\n}\n\n//take raw response from tweets and construct well-formed object with only needed info\nconst parseRawTweets = rawTweets => {\n  let newTweets = [];\n  //first tweet will have id of 0\n  for (let tweet of rawTweets) {\n    //throw out if the tweet is a retweet\n    if (tweet.retweeted_status) {\n      //console.log(\"Tweet not parsed; is a retweet\");\n    } else if (tweet.in_reply_to_status_id !== null) {\n      //console.log(\"Tweet not parsed; is a reply\");\n    } else {\n      //construct the object\n      let newTweet = {};\n      newTweet.date = tweet.created_at;\n      newTweet.tweetID = tweet.id_str;\n      newTweet.text = he.decode(tweet.full_text); //make sure that the text is unescaped\n      newTweet.urls = null;\n      if (tweet.entities.urls.length > 0) {\n        newTweet.urls = tweet.entities.urls;\n      }\n      if (newTweet.urls !== null) {\n        for (let url of newTweet.urls) {\n          newTweet.text = newTweet.text.replace(url.url, \"\");\n        }\n      }\n\n      newTweet.user = {};\n      newTweet.user.name = tweet.user.name;\n      newTweet.user.pic = tweet.user.profile_image_url;\n      newTweet.user.handle = tweet.user.screen_name;\n\n      //check for media of any type\n      if (tweet.extended_entities) {\n        newTweet.media = [];\n        newTweet.hasMedia = true;\n        for (let i = 0; i < tweet.extended_entities.media.length; i++) {\n          newTweet.media[i] = {};\n          newTweet.media[i].type = tweet.extended_entities.media[i].type;\n          //remove the in-text media link from the tweet text\n          newTweet.text = newTweet.text.replace(\n            tweet.extended_entities.media[i].url,\n            \"\"\n          );\n          if (newTweet.media[i].type === \"photo\") {\n            newTweet.media[i].url =\n              tweet.extended_entities.media[i].media_url_https;\n          } else if (newTweet.media[i].type === \"video\") {\n            newTweet.media[i].url =\n              tweet.extended_entities.media[i].video_info.variants[0].url;\n            newTweet.media[i].format =\n              tweet.extended_entities.media[i].video_info.variants[0].content_type;\n          } else if (newTweet.media[i].type === \"animated_gif\") {\n            //render as a video\n            newTweet.media[i].type = \"video\";\n            newTweet.media[i].url =\n              tweet.extended_entities.media[i].video_info.variants[0].url;\n            newTweet.media[i].format =\n              tweet.extended_entities.media[i].video_info.variants[0].content_type;\n          }\n          //NEED TO CHECK FOR OTHER TYPES OF MEDIA\n        }\n      } else {\n        newTweet.hasMedia = false;\n      }\n\n      //check for quote tweet\n      if (tweet.is_quote_status === true) {\n        newTweet.isQuote = true;\n\n        newTweet.quoteTweet = {};\n        newTweet.quoteTweet.text = he.decode(tweet.quoted_status.full_text); //make sure string is unescaped\n        newTweet.quoteTweet.date = tweet.quoted_status.created_at;\n        newTweet.quoteTweet.tweetID = tweet.quoted_status.id_str;\n        newTweet.quoteTweet.urls = null;\n        if (tweet.quoted_status.entities.urls.length > 0) {\n          newTweet.quoteTweet.urls = tweet.quoted_status.entities.urls;\n        }\n        if (newTweet.quoteTweet.urls !== null) {\n          for (let url of newTweet.quoteTweet.urls) {\n            newTweet.quoteTweet.text = newTweet.quoteTweet.text.replace(\n              url.url,\n              \"\"\n            );\n          }\n        }\n\n        newTweet.quoteTweet.user = {};\n        newTweet.quoteTweet.user.name = tweet.quoted_status.user.name;\n        newTweet.quoteTweet.user.pic =\n          tweet.quoted_status.user.profile_image_url;\n        newTweet.quoteTweet.user.handle = tweet.quoted_status.user.screen_name;\n\n        //check for quote tweet media\n        //check for media of any type\n        if (tweet.quoted_status.extended_entities) {\n          newTweet.quoteTweet.media = [{}];\n          newTweet.quoteTweet.hasMedia = true;\n          for (\n            let i = 0;\n            i < tweet.quoted_status.extended_entities.media.length;\n            i++\n          ) {\n            //remove the in-text media link from the tweet text\n            newTweet.quoteTweet.text = newTweet.quoteTweet.text.replace(\n              tweet.quoted_status.extended_entities.media[i].url,\n              \"\"\n            );\n            newTweet.quoteTweet.media[i] = {};\n            if (newTweet.quoteTweet.media[i].type === \"photo\") {\n              newTweet.quoteTweet.media[i].url =\n                tweet.quoted_status.extended_entities.media[i].media_url_https;\n            } else if (newTweet.quoteTweet.media[i].type === \"video\") {\n              newTweet.quoteTweet.media[i].url =\n                tweet.quoted_status.extended_entities.media[\n                  i\n                ].video_info.variants[0].url;\n            }\n          }\n        } else {\n          newTweet.quoteTweet.hasMedia = false;\n        }\n      } else {\n        newTweet.isQuote = false;\n      }\n\n      //put at the beginning of newTweets[] for oldest tweets first only if we have text to work with\n      if (newTweet.text.length > 0 && newTweet.isQuote === false) {\n        newTweets.unshift(newTweet);\n      } else if (newTweet.isQuote === true) {\n        if (newTweet.text.length > 0 && newTweet.quoteTweet.text.length > 0) {\n          newTweets.unshift(newTweet);\n        }\n      } else {\n        //console.log(\n          //\"TWEET PROCESSED BUT HAD NO TEXT AT THE END OF parseRawTweets()\"\n        //);\n      }\n    }\n  }\n  //console.log(newTweets);\n\n  return newTweets;\n\n};","import React, { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDrag } from \"react-dnd\";\n\nconst DragWord = props => {\n  let fibGame = useSelector(state => state.game.curGame);\n\n\n  const word = props.word;\n  const order = props.order;\n  let strike = false;\n  let opacity = 1;\n\n  let content = null;\n\n\n\n  const [{ isDragging }, drag] = useDrag({\n    item: { value: word, order: order, type: \"word\" },\n    //called after word is dropped\n    end: (item, monitor) => {\n      const dropResult = monitor.getDropResult();\n      //check if the item and dropResult exist\n      if (item && dropResult) {\n        strike = true;\n        //call function to check order and word correctness\n        fibGame.handleDrop(item.value, dropResult.order, item.order);\n      }\n    },\n    options: {\n      dropEffect: 'copy'\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n  opacity = isDragging ? 0.4 : 1;\n\n\n  if (fibGame !== null) {\n    //check if word is one of the already dropped ones, and if so then strike it out\n    for (let wordObj of fibGame.droppedWords) {\n      if (wordObj.word === word) {\n        strike = true;\n        opacity = 0.5;\n      }\n    }\n  }\n\n  //switch strike based on whether word has been dropped\n  const textDecoration = strike ? 'line-through' : 'none';\n\n\n\n  if (word !== null) {\n    content = (\n      <div className=\"word-wrapper\">\n        <div ref={drag} style={{ opacity, textDecoration }} className=\"word-drag\">\n          {word}\n        </div>\n      </div>\n    );\n  }\n\n  return <Fragment>{content}</Fragment>;\n};\n\nexport default DragWord;\n","import React, { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDrag } from \"react-dnd\";\n\nconst DragAuthor = props => {\n    let authorGame = useSelector(state => state.game.curGame);\n\n    const name = props.name;\n    const url = props.url;\n    const handle = props.handle;\n    const time = props.time;\n    const correct = props.correct;\n\n    let content = null;\n\n    const [{ isDragging }, drag] = useDrag({\n        item: { author: { name: name, url: url, handle: handle, time: time }, correct: correct, type: \"author\" },\n        //called after word is dropped\n        end: (item, monitor) => {\n            const dropResult = monitor.getDropResult();\n            //check if the item and dropResult exist\n            if (item && dropResult) {\n                //call function to check order and word correctness\n                authorGame.handleDrop(item.correct);\n            }\n        },\n        options: {\n            dropEffect: 'copy'\n        },\n        collect: monitor => ({\n            isDragging: monitor.isDragging(),\n            isOver: monitor.isOverTarget(),\n            dragCoords: monitor.getSourceClientOffset()\n        })\n    });\n\n    const opacity = isDragging ? 0.4 : 1;\n\n    content = (\n        <div className=\"author-drag\" style={{opacity}}>\n            <h3 className={\"tweet-info-name\"} ref={drag}>{name} <span className={\"tweet-info-details\"}> @{handle}</span></h3>\n        </div>\n    );\n\n    return <Fragment>{content}</Fragment>\n\n}\n\nexport default DragAuthor;","import React from 'react'\nimport { useSelector } from \"react-redux\";\nimport DragWord from './DragWord';\nimport DragAuthor from './DragAuthor';\n\nconst DragOptions = () => {\n    let game = useSelector(state => state.game.curGame);\n\n    \n\n    let className = 'drag-options-container double';\n\n    let content = null;\n    if (game !== null) {\n        if (game.type === 'FillBlank') {\n            if (game.wordOptions.length > 0) {\n            \n                content =\n                    game.wordOptions.map((word, key) =>\n                        <DragWord word={word.word} order={word.order} key={key} />\n                    );\n            }\n        }\n\n        else if (game.type === \"GuessAuthor\") {\n            if (game.friendOptions.length > 0) {\n                className = 'drag-options-container'\n                content = game.friendOptions.map((user, key) => \n                    <DragAuthor key={key} name={user.name} url={user.pic} handle={user.handle} correct={user.correct} />\n                );\n                \n            }\n        }\n        else {\n            console.error(\"Game type not recognized in DragOptions\")\n        }\n    }\n\n    return (\n        <div className={className}>\n            {content}\n        </div>\n    )\n}\nexport default DragOptions","import React from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport { strikeOut } from './../actions';\n\n\nconst Lives = () => {\n    const curGame = useSelector(state => state.game.curGame);\n    const anim = useSelector(state => state.ui.strikeBounce);\n\n    let dispatch = useDispatch();\n\n    let content = [];\n\n\n    if (curGame !== null) {\n        content.push(<h2 className=\"lives\" key={100}>Strikes:</h2>);\n\n        let strikes = 3 - curGame.lives;\n        let numIcons = 0;\n        for (let i = 0; i < strikes; i++) {\n            content.push(\n                <CSSTransition\n                in={anim}\n                classNames='strike'\n                timeout={400}\n                onEntered={() => dispatch(strikeOut())}\n                appear={true}\n            >\n                <h2 className='strike' key={numIcons}>&#x2715;</h2>\n                </CSSTransition>\n            );\n            numIcons++;\n        }\n\n        for (let i = numIcons; i < 3; i++) {\n            content.push(<h2 className='strike-left' key={i}>&#x2715;</h2>);\n        }\n    }\n    else {\n        content = null;\n    }\n\n    return (\n\n            <div className=\"lives-wrapper\">\n                {content}\n            </div>\n\n    );\n}\nexport default Lives","import React from 'react';\nimport {playSound, muteSound, showInfo} from './../actions';\nimport {useSelector, useDispatch} from 'react-redux';\n\n\nimport soundImage from './../img/sound.svg';\nimport muteImage from './../img/no_sound.svg';\nimport infoImage from './../img/info.svg';\n\nimport clickFile from './../sound/click.mp3';\nlet clickSound = new Audio(clickFile);\n\n\nconst Toolbar = () => {\n    let soundState = useSelector(state => state.ui.playSound);\n\n    let dispatch = useDispatch();\n\n    let toggleSound = () => {\n        if(soundState === true) {\n            dispatch(muteSound());\n        }\n        else {\n            dispatch(playSound());\n            clickSound.play();\n        }\n    }\n\n    let soundStateImage;\n    if(soundState === true) {\n        soundStateImage = soundImage;\n    }\n    else {\n        soundStateImage = muteImage;\n    }\n\n    return (\n        <div className='bottom-toolbar'>\n            <img alt=\"Clickable icon to mute sound\" src={soundStateImage} className='sound-image toolbar-image' onClick={() => toggleSound()}></img>\n            <img alt=\"Clickable icon to show information about this application\" src={infoImage} className='info-image toolbar-image' onClick={() => {\n                    if(soundState === true) {\n                        clickSound.play();\n                    }\n                    dispatch(showInfo())\n                }}></img>\n        </div>\n    );\n}\n\nexport default Toolbar;","import React, { Fragment } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { hideInfo } from './../actions';\n\nimport clickFile from './../sound/click.mp3';\nlet clickSound = new Audio(clickFile);\n\nconst Info = () => {\n    let soundState = useSelector(state => state.ui.playSound);\n    let dispatch = useDispatch();\n    return (\n        <Fragment>\n            <h2 className='info-title'>About this Site</h2>\n            \n            <p className='info-p'>My name is Isaac Sheets and I developed Easy Come, Easy Go as a commentary on the usage of infinite scroll on Twitter. Infinite scroll provides easy access to unlimited content and the user is never forced to take a step back and decide if they want to continue - the content is easy to get so it has less weight.</p>\n            <p className='info-p'>To reverse this concept, Easy Come, Easy Go slows down the interaction for the user and prompts them to actually engage with the content they see. The result is that the user can make a more intentional decision about the content the consume and the time they invest.</p>\n            <a className='info-link' target='_blank' rel=\"noopener noreferrer\" href='http://creative.colorado.edu/~issh3780/'>&#x2197; Check out my other work</a>\n            <a className='info-link' target='_blank' rel=\"noopener noreferrer\" href='https://www.linkedin.com/in/isaacsheets1'>&#x2197; Find me on LinkedIn</a>\n            <button className='small-text info-close-button' onClick={() => {\n                if(soundState === true) {\n                    clickSound.play();\n                }\n                dispatch(hideInfo())\n                }}>CLOSE</button>\n        </Fragment>\n    )\n}\n\nexport default Info;","import React, { Fragment } from \"react\";\nimport TwitterLogin from \"react-twitter-auth\";\nimport {\n  updateAuthentication,\n  updateToken,\n  updateUser,\n  logoutAndReset,\n  hideInfo\n} from \"./../actions\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Modal from 'react-modal';\n\nimport TweetCard from \"./TweetCard/TweetCard\";\nimport TweetNav from \"./TweetNav\";\nimport DragOptions from \"./DragOptions\";\nimport Lives from './Lives';\n\nimport GameController from '../classes/GameController';\n\nimport { CSSTransition } from 'react-transition-group';\n\nimport clickFile from './../sound/click.mp3';\nimport printFile from './../sound/print.mp3';\nimport successFile from './../sound/success.mp3';\nimport Toolbar from \"./Toolbar\";\nimport Info from \"./Info\";\n\nconst customStyles = {\n  content: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\n\nModal.setAppElement('#root')\n\nlet clickSound = new Audio(clickFile);\nlet printSound = new Audio(printFile);\nlet successSound = new Audio(successFile);\n\nlet dispatch;\n\nlet gameController = new GameController();\n\nconst onFailedAuth = error => {\n  //console.log(\"Twitter auth failed :(\");\n  console.error(error);\n};\n\nconst onSuccessAuth = async (response) => {\n  const token = response.headers.get(\"x-auth-token\");\n  //console.log(response);\n  response.json().then(async user => {\n    //successful auth, update store\n    if (token) {\n      //console.log(\"User auth successful :)\");\n      if (playSound) {\n        successSound.play();\n      }\n\n      //dispatch the user object to store\n      dispatch(updateUser(user));\n      //dispatch the token to store\n      dispatch(updateToken(token));\n      //dispatch action to update authentication to store\n      dispatch(updateAuthentication(true));\n\n    }\n  });\n};\n\nconst logout = () => {\n  if (playSound) {\n    clickSound.play();\n  }\n\n  //set state to initial\n  dispatch(logoutAndReset());\n  //clear cache\n  localStorage.removeItem('state');\n}\n\nlet playSound = true;\nconst App = () => {\n  //get current state\n  const user = useSelector(state => state.user);\n  const game = useSelector(state => state.game);\n  let infoState = useSelector(state => state.ui.showInfo);\n  playSound = useSelector(state => state.ui.playSound);\n\n  let animateOptions = useSelector(state => state.ui.optionsIn);\n\n  let gameAdmin;\n  let gridStyle = 'main-grid';\n  let gridSpan = '';\n\n  let animation = 'fade';\n  let animationDur = 400;\n\n  if (animateOptions === false) {\n    animationDur = 200;\n  }\n\n  let playPrintSound = () => {\n    if (playSound) {\n      printSound.play();\n    }\n  }\n\n\n  if (user.isAuthenticated === true) {\n    if (game.curGame !== null) {\n      //we have a game\n      const sixHours = 6 * 60 * 60 * 1000;\n      if (Date.now() - game.lastTweetFetchDate > sixHours) {\n        //console.log(\"last fetched more than six hours ago, re-fetching and creating new game now now\")\n        gameController.init();\n\n        game.curGame = null;\n      }\n\n      //show some administration like next button or refresh\n      else if (game.curGame.type === 'Complete') {\n        animation = 'scale';\n        animationDur = 200;\n        gameAdmin = (<TweetNav />);\n        gridStyle = 'single';\n        gridSpan = 'span';\n      }\n      else if (game.curGame.type === 'NoTweets') {\n        //this should probably be a new component\n        animation = 'none';\n        gameAdmin = (\n          <div className='no-new-tweets'>\n            <h2>No new tweets to fetch.</h2>\n            <h3>Try again later.</h3>\n            <button\n              onClick={() => {\n                if (playSound) {\n                  clickSound.play();\n                }\n                gameController.newGame();\n              }}\n              className=\"button\"\n            >\n              RETRY\n          </button>\n          </div>\n        );\n\n        gridStyle = 'single';\n        gridSpan = 'span';\n      }\n    }\n    else {\n      gameController.init();\n    }\n  }\n\n\n  //check to see if we need to refresh\n\n  //init reference to dispatch\n  dispatch = useDispatch();\n\n\n  let content = null;\n\n  //console.log(\"using \" + animation + ' for options animation');\n\n  if (user.isAuthenticated && game.curGame !== null) {\n    content = (\n      <div className=\"page-wrapper\">\n        <div className=\"top-bar\">\n          <div className=\"title\">\n            <h1>EASY COME, EASY GO</h1>\n          </div>\n          <div className=\"user-info\">\n            <img src={user.userDetails.img} alt='your profile avatar' className='user-pic'></img>\n            <h3 className='user-name'>{user.userDetails.name}</h3>\n            <button className=\"small-text log-out\" onClick={() => logout()}>LOG OUT</button>\n          </div>\n        </div>\n        <div className={\"main-flex \" + gridStyle}>\n          <TweetCard />\n          <CSSTransition\n            in={animateOptions}\n            classNames={animation}\n            timeout={animationDur}\n            appear={true}\n          >\n            <div className={\"main-grid-col-2 \" + gridSpan + \" \" + animation}>\n              {game.curGame.type === 'Complete' || game.curGame.type === 'NoTweets' ?\n                <Fragment>\n                  <div className=\"span\">{gameAdmin}</div>\n                </Fragment>\n                :\n                <Fragment>\n                  <DragOptions />\n                  <Lives />\n                </Fragment>\n              }\n            </div>\n          </CSSTransition>\n        </div>\n        <Toolbar />\n        <Modal\n          isOpen={infoState}\n          onRequestClose={() => dispatch(hideInfo())}\n          style={customStyles}\n          contentLabel=\"About the site\"\n          overlayClassName='info-bg'\n          className=\"info-content\"\n        >\n          <Info />\n        </Modal>\n      </div>\n    );\n\n  }\n\n  //loading after authentication\n  else if (user.isAuthenticated) {\n    content = (\n      <div className=\"page-wrapper\">\n        <div className=\"top-bar\">\n          <div className=\"title\">\n            <h1>EASY COME, EASY GO</h1>\n          </div>\n          <div className=\"user-info\">\n            <img src={user.userDetails.img} alt='your profile avatar' className='user-pic'></img>\n            <h3 className='user-name'>{user.userDetails.name}</h3>\n            <button className=\"small-text log-out\" onClick={() => logout()}>LOG OUT</button>\n          </div>\n        </div>\n        <div id=\"noTrespassingOuterBarG\">\n          <div id=\"noTrespassingFrontBarG\" class=\"noTrespassingAnimationG\">\n            <div class=\"noTrespassingBarLineG\"></div>\n            <div class=\"noTrespassingBarLineG\"></div>\n            <div class=\"noTrespassingBarLineG\"></div>\n            <div class=\"noTrespassingBarLineG\"></div>\n            <div class=\"noTrespassingBarLineG\"></div>\n            <div class=\"noTrespassingBarLineG\"></div>\n          </div>\n        </div>\n        <Toolbar />\n      </div>\n    );\n\n  }\n\n  //initial view not signed in\n  else {\n    content = (\n      <div className=\"page-wrapper\">\n        <CSSTransition\n          in={true}\n          classNames={'fade-slow'}\n          timeout={1000}\n          appear={true}\n        >\n          <div className=\"top-bar\">\n            <div className=\"title\">\n              <h1>EASY COME, EASY GO</h1>\n            </div>\n            <div className=\"user-info\">\n              <TwitterLogin\n                loginUrl=\"https://slow-twitter.appspot.com/api/v1/auth/twitter\"\n                onFailure={onFailedAuth}\n                onSuccess={onSuccessAuth}\n                requestTokenUrl=\"https://slow-twitter.appspot.com/api/v1/auth/twitter/reverse\"\n                className=\"twitter-login-button small-text\"\n                text=\"SIGN IN TO TWITTER\"\n                showIcon={false}\n              />\n            </div>\n          </div>\n        </CSSTransition>\n        <div className={\"main-flex rel\"}>\n          <CSSTransition\n            in={true}\n            classNames={'slide-up-slow'}\n            appear={true}\n            timeout={2000}\n            onEntering={() => playPrintSound()}\n            onEntered={() => printSound.pause()}\n          >\n            <div className=\"welcome-message-wrapper\">\n              <div className=\"welcome-message\">\n                <h2 className='section-title'>Welcome to Slow Twitter.</h2>\n                <p>This site will transform your Twitter feed into a series of mini-games.</p>\n                <p>Login to your Twitter account get started.</p>\n              </div>\n            </div>\n          </CSSTransition>\n        </div>\n        <Toolbar />\n      </div>\n\n    );\n  }\n\n\n\n  return <Fragment>{content}</Fragment>;\n};\nexport default App;\n","const intialUser = {\n    isAuthenticated: false,\n    userDetails: null,\n    userToken: null\n}\n\nconst user = (state = intialUser, action) => {\n    switch(action.type) {\n        case 'RESET':\n            return intialUser\n        case 'SET_AUTHENTICATION':\n            return {\n                ...state,\n                isAuthenticated: action.isAuthenticated\n            }\n        case 'SET_USER':\n            return {\n                ...state,\n                userDetails: action.user\n\n            }\n        case 'SET_TOKEN':\n            return {\n                ...state,\n                userToken: action.token\n            }\n        default:\n            return state\n    }\n}\n\nexport default user","const intialGame = {\n  lastTweetFetched: null,\n  parsedTweets: null,\n  curGame: null,\n  parsedFriends: null,\n  lastTweetFetchDate: null\n};\n\nconst game = (state = intialGame, action) => {\n  switch (action.type) {\n    case 'RESET':\n      return intialGame;\n    case \"INIT_GAME\":\n      return {\n        ...state,\n        curGame: action.curGame,\n        parsedFriends: action.parsedFriends,\n        parsedTweets: action.parsedTweets,\n        lastTweetFetchDate: action.lastTweetFetchDate,\n        lastTweetFetched: action.lastTweetFetched\n      }\n    case \"SET_CURRENT_GAME\":\n      return {\n        ...state,\n        curGame: action.curGame\n      };\n    case \"SET_LAST_TWEET_FETCHED\":\n      return {\n        ...state,\n        lastTweetFetched: action.lastFetched\n      };\n    case \"SET_PARSED_TWEETS\":\n      if (action.lastTweetFetched === null) {\n        return {\n          ...state,\n          parsedTweets: action.parsedTweets,\n          lastTweetFetchDate: action.lastTweetFetchDate\n        };\n      }\n      else {\n        return {\n          ...state,\n          parsedTweets: action.parsedTweets,\n          lastTweetFetchDate: action.lastTweetFetchDate,\n          lastTweetFetched: action.lastTweetFetched\n        };\n      }\n    case \"SET_PARSED_FRIENDS\":\n      return {\n        ...state,\n        parsedFriends: action.parsedFriends\n      };\n    default:\n      return state;\n  }\n};\n\nexport default game;","const intialLightbox = {\n    isVisible: false,\n    slide: 0\n  };\n  \n  const lightbox = (state = intialLightbox, action) => {\n    switch (action.type) {\n      case 'RESET':\n        return intialLightbox;\n      case \"TOGGLE_LB_VISIBLE\":\n        return {\n          ...state,\n          isVisible: !state.isVisible \n        };\n        case \"SET_LB_SLIDE\":\n        return {\n          ...state,\n          slide: action.slideNum\n        };\n     \n      default:\n        return state;\n    }\n  };\n  \n  export default lightbox;\n  ","const initialUI = {\n    tweetIn: true,\n    optionsIn: false,\n    showInfo: false,\n    playSound: true,\n    strikeBounce: false\n}\n\nconst ui = (state = initialUI, action) => {\n    switch (action.type) {\n        case 'RESET':\n            return initialUI;\n        case 'TWEET_IN_TRUE':\n            return {\n                ...state,\n                tweetIn: true\n            }\n        case 'TWEET_IN_FALSE':\n            return {\n                ...state,\n                tweetIn: false\n            }\n        case 'OPTIONS_IN_TRUE':\n            return {\n                ...state,\n                optionsIn: true\n\n            }\n        case 'OPTIONS_IN_FALSE':\n            return {\n                ...state,\n                optionsIn: false\n\n            }\n        case 'SHOW_INFO':\n            return {\n                ...state,\n                showInfo: true\n            }\n        case 'HIDE_INFO':\n            return {\n                ...state,\n                showInfo: false\n            }\n        case 'PLAY_SOUND':\n            return {\n                ...state,\n                playSound: true\n            }\n        case 'MUTE_SOUND':\n            return {\n                ...state,\n                playSound: false\n            }\n        case 'STRIKE_START':\n            return {\n                ...state,\n                strikeBounce: true\n            }\n        case 'STRIKE_STOP':\n            return {\n                ...state,\n                strikeBounce: false\n            }\n        default:\n            return state\n    }\n}\n\nexport default ui","import React from \"react\";\nimport { render } from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport rootReducer from \"./reducers\";\nimport { DndProvider } from \"react-dnd\";\nimport HTML5Backend from \"react-dnd-html5-backend\";\nimport { toast } from 'react-toastify';\n\nimport { loadState, saveState } from \"./local-storage/localStorage\";\nimport throttle from \"lodash.throttle\";\n\nlet persistedState = loadState();\nconsole.log(persistedState);\nlet store;\n\ntoast.configure();\n\n//use persisted state if avail\nif (persistedState !== undefined) {\n\n  store = createStore(\n    rootReducer,\n    persistedState,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({\n      trace: true\n    })\n  );\n\n} \n//no state in local storage\nelse {\n  store = createStore(\n    rootReducer,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({\n      trace: true\n    })\n  );\n}\n\nexport default store;\n\n//save state a maximum of once every second\nstore.subscribe(\n  throttle(() => {\n    saveState({\n      game: store.getState().game,\n      user: store.getState().user,\n      ui: store.getState().ui\n    });\n  }, 1000)\n);\n\nrender(\n  <Provider store={store}>\n    <DndProvider backend={HTML5Backend}>\n      <App />\n    </DndProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);","import { combineReducers } from 'redux'\nimport user from './user'\nimport game from './game'\nimport lightbox from './lightbox'\nimport ui from './ui'\n\nexport default combineReducers({\n  user,\n  game,\n  lightbox,\n  ui\n})","import FillBlank from './../classes/FillBlank';\nimport GuessAuthor from '../classes/GuessAuthor';\n\nexport const loadState = () => {\n  //console.log(\"ATTEMPTING TO LOAD STATE\");\n  try {\n    const serializedState = localStorage.getItem('state');\n    if (serializedState === null) {\n      return undefined;\n    }\n    let parsedState = JSON.parse(serializedState);\n    //console.log(parsedState);\n    //need to reconstruct the class instance based on persisted properties if it exists\n    if (parsedState.game.curGame !== null) {\n      let gameFromJson = {};\n      if (parsedState.game.curGame.type === 'FillBlank') {\n        gameFromJson = FillBlank.fromJSON(parsedState.game.curGame);\n        //console.log(gameFromJson);\n        if(gameFromJson.type === 'NoWords') {\n          gameFromJson = GuessAuthor.fromJSON(parsedState.game.curGame);\n          gameFromJson.getRandomFriends(parsedState.game.parsedFriends, true);\n        }\n      }\n      else if(parsedState.game.curGame.type === 'NoWords') {\n        //console.log('game type is NoWords, constructing GuessAuthor');\n        gameFromJson = GuessAuthor.fromJSON(parsedState.game.curGame);\n        gameFromJson.getRandomFriends(parsedState.game.parsedFriends, true);\n      }\n      else if (parsedState.game.curGame.type === 'GuessAuthor') {\n        //console.log('constructing new GuessAuthor game');\n        gameFromJson = GuessAuthor.fromJSON(parsedState.game.curGame);\n        gameFromJson.getRandomFriends(parsedState.game.parsedFriends, true);\n      }\n      else if(parsedState.game.curGame.type === 'Complete') {\n        gameFromJson.type = 'Complete';\n        gameFromJson.curTweet = parsedState.game.curGame.curTweet;\n        gameFromJson.status = parsedState.game.curGame.status;\n      }\n      else if(parsedState.game.curGame.type === 'NoTweets') {\n        gameFromJson.type = 'NoTweets';\n        gameFromJson.curTweet = parsedState.game.curGame.curTweet;\n      }\n      else {\n        console.error(\"Game type not caught in localStorage.js\");\n      }\n\n      parsedState.game.curGame = gameFromJson;\n    }\n    return parsedState;\n  } catch (err) {\n    console.error(err);\n    return undefined;\n  }\n};\n\nexport const saveState = (state) => {\n  //console.log(\"ATTEMPTING TO SAVE STATE\");\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  } catch {\n    // ignore write errors\n  }\n};","module.exports = __webpack_public_path__ + \"static/media/success.6ba16415.mp3\";","module.exports = __webpack_public_path__ + \"static/media/print.1d3d03ec.mp3\";","module.exports = __webpack_public_path__ + \"static/media/bad.ef6e1241.mp3\";","module.exports = __webpack_public_path__ + \"static/media/type.92cc9868.mp3\";","module.exports = __webpack_public_path__ + \"static/media/fail.b3426cab.mp3\";"],"sourceRoot":""}